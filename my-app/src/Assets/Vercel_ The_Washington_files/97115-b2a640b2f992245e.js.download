(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[97115],{490720:function(e){"use strict";/*!
 * escape-html
 * Copyright(c) 2012-2013 TJ Holowaychuk
 * Copyright(c) 2015 Andreas Lubbe
 * Copyright(c) 2015 Tiancheng "Timothy" Gu
 * MIT Licensed
 */var t=/["'&<>]/;e.exports=function(e){var n,r=""+e,a=t.exec(r);if(!a)return r;var i="",u=0,l=0;for(u=a.index;u<r.length;u++){switch(r.charCodeAt(u)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#39;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}l!==u&&(i+=r.substring(l,u)),l=u+1,i+=n}return l!==u?i+r.substring(l,u):i}},203224:function(e,t,n){var r=n(469823),a=n(450440);e.exports=function(e){return"number"==typeof e||a(e)&&"[object Number]"==r(e)}},906642:function(e,t,n){"use strict";n.d(t,{B:function(){return U}});var r=n(652983),a=n(490720),i=n.n(a),u=n(166262),l=n(690601),o=n.n(l),s=n(18436),c=n.n(s),m=n(624102),d=n(71299),f=n(684874),v=n(121123),y=n(287735),p=n(234580),g=n(203224),h=n.n(g),S=n(69282),b=n(58363),E=n(169111);let R={name:void 0,companyURL:void 0,companySize:void 0,personalEmailUsed:!1};var w=n(693943),C=n(426326),_=n(423918);function k(e){let t=(0,r.useRef)(null),n=(0,C.useRouter)(),{onBlur:a,initialValue:i="",validate:u}=e,[l,o]=(0,r.useState)(i),[s,c]=(0,r.useState)(!1),[m,d]=(0,r.useState)(!1),[f,v]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(!n.isReady||f||!e.queryParam||i)return;let t=(0,_.P)(n.query[e.queryParam]);!l&&t&&t!==l&&(o(t),v(!0))},[n.isReady,n.query,l,f,e.queryParam,i]);let y=(0,r.useCallback)(e=>{o(e.target.value)},[]),p=(0,r.useCallback)(()=>{"function"==typeof a&&a(l),d(!0)},[l,a]),g=(0,r.useCallback)(e=>{c(e)},[]),h=(0,r.useCallback)(()=>{o(i),d(!1),c(!1)},[i]),S=(0,r.useCallback)(async()=>{if(c(!1),"function"==typeof u){let e=await u(l);return e&&c(!0),e}return Promise.resolve(!0)},[l,u]),b=(0,r.useCallback)(()=>{var e;null===(e=t.current)||void 0===e||e.focus()},[]);return{ref:t,name:e.name,value:l,error:s,touched:m,onChange:y,onBlur:p,onError:g,setValue:o,reset:h,validate:S,focus:b}}async function M(e){let t=await Promise.all(e.map(e=>e.validate())),n=0;for(;n<t.length-1&&!t[n];)n++;t[n]&&setTimeout(()=>e[n].focus());let r=t.filter(e=>e);return 0===r.length}let T=(e,t)=>{switch(t.type){case"FORM_SUBMIT":return{...e,status:"loading",formError:null};case"SUBMIT_SUCCESS":return{...e,status:"success",formError:null};case"SUBMIT_ERROR":{let n={...e,status:"error"};return"string"==typeof t.message?n.formError=t.message:n.formError=null,n}case"RESET_FORM_ERROR":return{...e,formError:null};default:throw Error("Invalid action type")}};function U(e){var t,n;let{onSubmitError:a,onSubmitSuccess:l,campaignId:s,type:g="",initialValues:C}=e,{data:_}=(0,d.a)(),U=(0,u.Z)(),[O,P]=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{status:"ready",formError:null},[t,n]=(0,r.useReducer)(T,e),a="loading"===t.status,i="success"===t.status,u="error"===t.status;return[{...t,loading:a,success:i,error:u},n]}(),{status:x,loading:j,success:q,error:B,formError:I}=O,{actions:L,...z}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{initialValues:t={}}=e,n=k({name:"name",initialValue:t.name??"",validate:e=>0===e.trim().length,queryParam:"full-name"}),a=k({name:"email",initialValue:t.email??"",validate:e=>0===e.trim().length||!o()(e),queryParam:"email"}),i=k({name:"companyURL",initialValue:t.companyURL??"",validate:e=>0===e.trim().length||!c()(e,{require_protocol:!1}),queryParam:"website"}),u=k({name:"companySize",initialValue:t.companySize??"1-100",validate:e=>0===e.trim().length}),l=k({name:"note",validate:e=>0===e.trim().length,queryParam:"content"}),s=(0,r.useCallback)(()=>{a.reset(),n.reset(),i.reset(),u.reset(),l.reset()},[a,n,i,u,l]),m=(0,r.useCallback)(()=>{n.onError(!1),a.onError(!1),i.onError(!1),u.onError(!1),l.onError(!1)},[n,a,i,u,l]);return{nameInput:n,emailInput:a,companyURLInput:i,companySizeInput:u,noteInput:l,actions:{resetInputs:s,resetInputErrors:m}}}({initialValues:C}),{nameInput:N,emailInput:$,companyURLInput:K,companySizeInput:F,noteInput:A}=z,{resetInputs:V,resetInputErrors:Z}=L,D=(0,r.useMemo)(()=>{var e;return $.value||(null==_?void 0:null===(e=_.user)||void 0===e?void 0:e.email)||""},[$.value,null==_?void 0:null===(t=_.user)||void 0===t?void 0:t.email]),H=(0,r.useMemo)(()=>{var e;return D&&D===(null==_?void 0:null===(e=_.user)||void 0===e?void 0:e.email)},[null==_?void 0:null===(n=_.user)||void 0===n?void 0:n.email,D]),W=(0,m.c)($.value,250),X=(0,r.useCallback)(()=>{P({type:"RESET_FORM_ERROR"}),Z()},[P,Z]),{showName:J,showCompanyURL:Q,showCompanySize:G,submitEnabled:Y,clearbitData:ee,emailIsPersonal:et}=function(e){let{enabled:t,email:n,user:a,resetFormErrors:i}=e,[u,l]=(0,r.useState)(!1),[s,c]=(0,r.useState)(!1),[m,d]=(0,r.useState)(null),f=(0,E.Z)(n),y=(0,r.useCallback)(e=>{if(e){if(h()(e)){if(e<100)return"1-100";if(e<500)return"100-500";if(e<1e3)return"500-1000";if(e>=1e3)return"1000+"}switch(e){case"1-10":case"11-50":return"1-100";case"51-250":case"251-1K":default:return;case"1K-5K":case"5K-10K":case"50K-100K":case"100K+":return"1000+"}}},[]),g=()=>{d(null),l(!1),c(!1),i()},w=(0,r.useCallback)(async()=>{try{var e,t,r,a,i,u,o;let[l,s]=await Promise.all([(0,p.oH)({email:n}),(0,b.I)(`${v.W5}?email=${n}`)]);if(l.data.email.freeProvider){d({name:void 0,companySize:void 0,companyURL:void 0,personalEmailUsed:!0});return}if((0,S.x)(s))throw Error(s.message);d({name:null===(t=s.person)||void 0===t?void 0:null===(e=t.name)||void 0===e?void 0:e.fullName,companyURL:null===(r=s.company)||void 0===r?void 0:r.domain,companySize:y((null===(i=s.company)||void 0===i?void 0:null===(a=i.metrics)||void 0===a?void 0:a.employees)??(null===(o=s.company)||void 0===o?void 0:null===(u=o.metrics)||void 0===u?void 0:u.employeesRange)),personalEmailUsed:!1})}catch(e){d(R)}finally{c(!0),l(!0)}},[n,y]);(0,r.useEffect)(()=>{if(t){if(!n){g();return}if(!o()(n)){u?g():c(!1);return}u&&n===f||(g(),w().catch(e=>{}))}},[n,w,u,t,a]);let C=!t||!!(m&&!m.name),_=!t||!!(m&&!m.companyURL),k=!t||!!(m&&!m.companySize),M=!!(null==m?void 0:m.personalEmailUsed);return M?{emailIsPersonal:M,showName:!1,showCompanyURL:!1,showCompanySize:!1,submitEnabled:!1,clearbitData:null}:{showName:C,showCompanyURL:_,showCompanySize:k,submitEnabled:s,clearbitData:m,emailIsPersonal:M}}({enabled:!0,email:W,user:null==_?void 0:_.user,resetFormErrors:X}),en=(0,r.useMemo)(()=>{let e=[A,...J?[N]:[],...Q?[K]:[],...G?[F]:[],...H?[]:[$]];return e},[F,K,$,N,A,G,Q,J,H]),er=(0,w.dl)(),ea=(0,r.useCallback)(async()=>!!await M(en)||(P({type:"SUBMIT_ERROR",message:U.formatMessage({defaultMessage:"Form submission failed because of invalid fields. Please address the errors and try again.",id:"Vm/qBO"})}),!1),[en,P,U]),ei=(0,r.useCallback)(()=>{P({type:"SUBMIT_SUCCESS"}),f.co.track(f.s6.CONTACT_SALES,{email:D}),"function"==typeof l&&l(),V()},[P,D,l,V]),eu=(0,r.useCallback)(e=>{if("function"==typeof a&&a(e),(0,y.B)(e)&&"bad_email"===e.code){$.onError(!0),setTimeout(()=>$.focus()),P({type:"SUBMIT_ERROR",message:U.formatMessage({defaultMessage:"Submitting this form failed because the email address you entered is invalid. Please try again.",id:"GT0kaX"})});return}P({type:"SUBMIT_ERROR"})},[P,$,U,a]),el=(0,r.useCallback)(async e=>{let t=await fetch(v.wZ,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(e)});await (0,y.X)(t)},[]),eo=(0,r.useCallback)(async e=>{if(e.preventDefault(),!j){P({type:"FORM_SUBMIT"});try{if(!await ea())return;let e=(null==ee?void 0:ee.name)||i()(N.value),[t,n]=function(e){let[t,...n]=e.split(" "),r=n.join(" ");return[t,r]}(e),r={email:D,name:e,companySize:(null==ee?void 0:ee.companySize)||F.value,companyURL:(null==ee?void 0:ee.companyURL)||K.value,note:i()(A.value),label:"front",ua:`front production + ${navigator.userAgent} (${navigator.language||"unknown language"})`,type:g,campaign_id:s,...er};if(!H)try{let{isValid:a}=await (0,p.oH)({email:r.email,firstName:t,lastName:n,name:e});if(!a){$.onError(!0),P({type:"SUBMIT_ERROR",message:U.formatMessage({defaultMessage:"Form submission failed because the email address you entered is invalid.",id:"nQ97wg"})});return}}catch{}await el(r),ei()}catch(e){eu(e)}}},[j,P,ea,D,null==ee?void 0:ee.name,null==ee?void 0:ee.companySize,null==ee?void 0:ee.companyURL,N.value,F.value,K.value,A.value,g,s,H,ei,$,U,el,eu,er]);return{fields:{nameInput:N,emailInput:$,companyURLInput:K,companySizeInput:F,noteInput:A},status:x,loading:j,success:q,error:B,formError:I,dispatch:P,resetInputs:V,submitForm:eo,submitEnabled:Y,showName:J,showCompanyURL:Q,showCompanySize:G,submittedEmailIsPersonal:et}}},695706:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(397458),a=n(14517),i=n(598030),u=e=>{let{small:t=!1,center:n=!0,color:a="",children:u,...l}=e;return(0,r.jsx)(i.ZP,{center:n,small:!0,style:{fontSize:t?"0.75rem":"0.875rem",letterSpacing:t?"0.2rem":"0.1rem",marginTop:0,paddingLeft:n&&t?"0.2rem":0,color:a},type:"secondary",uppercase:!0,weight:700,...l,children:u})},l=n(897437),o=n.n(l),s=function(e){let{children:t,smallMargin:n,noMargin:i,className:l}=e;return(0,r.jsx)("div",{className:(0,a.W)(o().heading,{[o()["small-margin"]]:n,[o()["no-margin"]]:i},l),children:(0,r.jsx)(u,{color:"var(--accents-5)",noMargin:!0,small:!0,children:t})})}},234580:function(e,t,n){"use strict";n.d(t,{Mc:function(){return function e(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r={};for(let[i,u]of Object.entries(t)){let t=n?`${n}${i.charAt(0).toUpperCase()}${i.slice(1)}`:i;if(a()(u)){let n=e(u,t);Object.assign(r,n)}else r[t]=u}return r}},oH:function(){return i}});var r=n(754256),a=n.n(r);async function i(e){let{email:t,firstName:n,lastName:r,name:a}=e,i=await fetch("/api/validate-email",{method:"POST",body:JSON.stringify({email:t,firstName:n,lastName:r,name:a})});if(!i.ok||200!==i.status)throw Error("Failed to validate email");let u=await i.json();return{isValid:u.email.valid,data:u}}},287735:function(e,t,n){"use strict";n.d(t,{B:function(){return u},X:function(){return l}});var r=n(403873),a=n(69282),i=n(213025);let u=e=>(0,a.x)(e)&&"code"in e;async function l(e){if(e.status>=200&&e.status<300)return e;let{type:t}=(0,i.Q)(e.headers.get("Content-Type")||"text/plain");if("application/json"===t){let t=await e.json();if("error"in t&&u(t.error))throw(0,r.SC)(t.error);if(u(t))throw(0,r.SC)(t)}if("text/plain"===t){let t=await e.text();throw(0,r.SC)(t)}throw Error(e.statusText)}},68751:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var r,a=n(403873);let i=(e,t)=>function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e(...r).catch(e=>t((0,a.SC)(e)))};var u=n(803972);let l=(r=e=>{(0,u.captureError)(e)},(e,t)=>i(e,t??r))},693943:function(e,t,n){"use strict";n.d(t,{dl:function(){return m}});var r,a,i=n(652983),u=n(333971);(r=a||(a={})).Source="utm_source",r.Medium="utm_medium",r.Campaign="utm_campaign",r.Content="utm_content",r.Term="utm_term";let l=new Set(Object.values(a)),o={[a.Source]:"",[a.Medium]:"",[a.Campaign]:"",[a.Content]:"",[a.Term]:""};function s(){let e=c();try{let t=new URL(e).searchParams,n=Object.fromEntries(t.entries());return n}catch{return{}}}function c(){let[e,t]=(0,i.useState)("");return(0,i.useEffect)(()=>{let e="localhost"===window.location.hostname?`https://${u.pV}/dev-mode${window.location.pathname}${window.location.search}`:window.location.toString();t(e)},[]),e}function m(){let e=function(){let e=s();return(0,i.useMemo)(()=>(function(e){let t=Object.entries(e).filter(e=>{let[t]=e;return"string"==typeof t&&l.has(t)}).reduce((e,t)=>{let[n,r]=t;return e[n]=r,e},{});return{...o,...t}})(e),[e])}(),t=function(e){let t=s();return(0,i.useMemo)(()=>{let n=e;return"gclid"in t&&"string"==typeof t.gclid&&t.gclid.length>0&&(n=t.gclid),n},[t,e])}(),n=c(),r=function(){let[e,t]=(0,i.useState)("");return(0,i.useEffect)(()=>{t(document.referrer)},[]),e}(),a=(0,i.useMemo)(()=>({utm:e,gclid:t,url:n,referrer:r}),[e,t,n,r]);return a}},708274:function(e,t,n){"use strict";n.d(t,{F:function(){return i}});var r=n(652983),a=n(321509);function i(e){let t=(0,r.useRef)(null);return{formRef:t,onKeyDown:n=>{if((0,a.x)(n)&&"Enter"===n.key){var r;(null==e?void 0:e.current)?e.current.click():null===(r=t.current)||void 0===r||r.requestSubmit()}}}}},624102:function(e,t,n){"use strict";n.d(t,{c:function(){return i},y:function(){return a}});var r=n(652983);function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(0,r.useRef)(null),a=()=>{n.current&&clearTimeout(n.current)};return(0,r.useEffect)(()=>()=>a(),[]),function(){for(var r=arguments.length,i=Array(r),u=0;u<r;u++)i[u]=arguments[u];a(),n.current=setTimeout(()=>{e(...i)},t)}}function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,[n,a]=(0,r.useState)(e);return(0,r.useEffect)(()=>{let n=setTimeout(()=>a(e),t);return()=>clearTimeout(n)},[e,t]),n}},897437:function(e){e.exports={heading:"tiny-heading_heading__xYu2W","small-margin":"tiny-heading_small-margin__r2_Da","no-margin":"tiny-heading_no-margin__g_Nqs"}}}]);