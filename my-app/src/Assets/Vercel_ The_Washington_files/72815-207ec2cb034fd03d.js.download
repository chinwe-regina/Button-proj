(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[72815,78127],{524857:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var i=n(397458),l=n(652983),r=n(869480),s=n.n(r),a=n(950429),o=n(804369),d=n(789808),c=n(7594),u=n(585088),h=n(486322),m=(0,l.memo)(e=>{let{active:t,url:n,onCancel:r}=e,[s,a]=(0,l.useState)(""),m=(0,l.useMemo)(()=>!s||s.includes(".")||!(0,o.isValid)(`${s}.${n}`),[s,n]),p=(0,l.useCallback)(()=>{a(""),r()},[r]),x=(0,l.useCallback)(e=>{e.preventDefault(),window.open((0,h.j)(`${s}.${n}`),"_blank","noopener"),p()},[s,n,p]);return n?(0,i.jsx)(d.u,{active:t,onClickOutside:p,children:(0,i.jsxs)("form",{onSubmit:x,children:[(0,i.jsxs)(d.u.Body,{children:[(0,i.jsx)(d.u.Title,{children:"Wildcard Domain"}),(0,i.jsx)(c.L,{}),(0,i.jsx)(d.u.Subtitle,{children:"Enter a subdomain to visit below."}),(0,i.jsx)(c.L,{y:.75}),(0,i.jsx)(u.I,{autoFocus:!0,id:"hostname",label:"Hostname",onChange:e=>a(e.target.value),suffix:`.${n}`,value:s})]}),(0,i.jsxs)(d.u.Actions,{children:[(0,i.jsx)(d.u.Action,{onClick:r,children:"Cancel"}),(0,i.jsx)(d.u.Action,{buttonType:"submit",disabled:m,children:"Visit"})]})]})}):null}),p=n(886125),x=n(103497),g=n(950639),y=n.n(g);let f=e=>{let{url:t,showIcon:n=!0,...r}=e,[s,o]=(0,p.Z)("#wildcard"),[d,c]=(0,l.useState)(null),[u,g]=(0,l.useState)(!1),f=(0,l.useCallback)(()=>{let e=(0,x.Z)(t)?t.slice(2):t;c(e),o(!0)},[c,o,t]);return t?(0,x.Z)(t)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.r,{className:y().aliasLink,onClick:f,...r,onMouseEnter:()=>g(!0),style:{minWidth:0,maxWidth:r.truncate?"100%":void 0},children:r.truncate?(0,i.jsx)("span",{className:"geist-ellipsis",children:t}):t}),u||s?(0,i.jsx)(m,{active:s,onCancel:()=>o(!1),url:d}):null]}):(0,i.jsx)(a.r,{className:y().aliasLink,external:!0,href:(0,h.j)(t),icon:n,...r,style:{minWidth:0,maxWidth:r.truncate?"100%":void 0},children:r.truncate?(0,i.jsx)("span",{className:"geist-ellipsis",children:t}):t}):null};f.propTypes={url:s().string.isRequired,icon:s().bool,color:s().bool};var j=(0,l.memo)(f)},381475:function(e,t,n){"use strict";var i=n(397458),l=n(14517),r=n(132950),s=n(121446),a=n(342958),o=n(435641),d=n.n(o);t.Z=function(e){let{children:t,title:n,description:o,message:c,controls:u,hideControlsOnMobile:h,actions:m,darkFold:p,buttons:x,buttonsStackDirection:g,buttonsStackStyle:y={},truncateTitle:f,noBorder:j=!1}=e;return(0,i.jsxs)("div",{children:[(0,i.jsxs)("header",{className:(0,l.W)(d().wrapper,{[d().border]:!j}),children:[(0,i.jsx)(a.Z,{wrapper:!0,children:(0,i.jsxs)(r.K,{align:{sm:"stretch",md:"flex-start",lg:"center"},className:d()["title-container"],direction:{sm:"column",lg:"row"},gap:{sm:6,md:6,lg:10},children:[(0,i.jsxs)(r.K,{direction:"column",flex:1,gap:4,style:{minWidth:f?0:void 0,width:"100%"},children:["string"==typeof n?(0,i.jsx)(s.x,{as:"h1",size:32,title:f?n:void 0,truncate:f,weight:500,wrap:!f,children:n}):n,!!o&&(0,i.jsx)("span",{className:"text-gray-900",children:o})]}),!!x&&(0,i.jsx)(r.K,{direction:g||{sm:"column",md:"row",lg:"row"},gap:{sm:4,md:4,lg:4},style:{flexWrap:"wrap",...y},children:x})]})}),c?(0,i.jsx)("div",{className:d().message,children:c}):null,u||m?(0,i.jsxs)("div",{className:(0,l.W)(d().menu,{[d().center]:!u||!m||h}),children:[u?(0,i.jsx)("div",{className:(0,l.W)(d().controls,{[d().hideOnMobile]:h}),children:u}):(0,i.jsx)("div",{}),m?(0,i.jsx)("div",{className:d().actions,children:m}):(0,i.jsx)("div",{})]}):null]}),p?(0,i.jsx)("div",{className:d()["child-wrapper"],children:(0,i.jsx)("div",{className:d().main,children:t})}):t?(0,i.jsx)("div",{className:d().main,children:t}):null]})}},262021:function(e,t,n){"use strict";var i=n(397458),l=n(243801),r=n.n(l);n(652983);var s=n(426326),a=n(789808),o=n(950429),d=n(852049),c=n(230180);t.Z=function(e){let{active:t,onCancel:n}=e,{teamSlug:l,project:u}=(0,s.useRouter)().query;return(0,i.jsxs)(a.u.Modal,{active:t,onClickOutside:n,children:[(0,i.jsxs)(a.u.Body,{children:[(0,i.jsx)(a.u.Header,{children:(0,i.jsx)(a.u.Title,{children:"Assign Domain"})}),(0,i.jsxs)(d.ZP,{preset:"body-2",children:["In order to assign a domain to your production deployments, configure it in"," ",(0,i.jsx)(o.r,{as:`/${l}/${u}/settings/domains`,href:"/[teamSlug]/[project]/settings/domains",variant:"highlight",children:"the project settings"})," ",(0,i.jsx)("strong",{className:"jsx-82477dff3d3a1197",children:"(recommended)"}),"."]}),(0,i.jsxs)(d.ZP,{preset:"body-2",children:["If you want to assign to this specific deployment, however, you can do so using our"," ",(0,i.jsx)(o.r,{href:"/cli",tab:!0,variant:"highlight",children:"command-line interface"}),":"]}),(0,i.jsx)(c.Z,{text:"vercel alias <deployment> <domain>",width:"100%"})]}),(0,i.jsx)(a.u.Actions,{children:(0,i.jsx)(a.u.Action,{fullWidth:!0,onClick:n,children:"OK"})}),(0,i.jsx)(r(),{id:"82477dff3d3a1197",children:"header.jsx-82477dff3d3a1197{text-align:center}"})]})}},344906:function(e,t,n){"use strict";var i=n(397458),l=n(132950),r=n(121446),s=n(700246),a=n(957717),o=n(909268),d=n(921949),c=n(524857),u=n(520102);function h(e){let{hidden:t,showIcon:n=!0}=e;return(0,i.jsx)(i.Fragment,{children:t.map(e=>(0,i.jsx)("div",{children:(0,i.jsx)(c.Z,{showIcon:n,title:e,truncate:!0,url:e})},e))})}function m(e){let{hidden:t}=e,n=(0,d.ac)(690);return void 0===n?null:n?(0,i.jsx)(o.C,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},trigger:(0,i.jsx)(s.C,{children:`+${t.length}`}),children:(0,i.jsx)(u.Menu,{style:{position:"relative",top:"20px"},tipOffset:4,tipSide:"right",width:"300px",children:(0,i.jsx)(l.K,{style:{maxHeight:"210px",overflow:"scroll",padding:"0 8px",fontWeight:400},children:(0,i.jsx)(h,{hidden:t})})})}):(0,i.jsx)(a.u,{text:(0,i.jsx)(h,{hidden:t}),children:(0,i.jsx)(s.C,{size:"sm",children:`+${t.length}`})})}t.Z=function(e){let{className:t,domains:n,firstOnly:s,showIcon:a=!0,style:o}=e;if(!n)return(0,i.jsx)(r.x,{as:"span",className:t,color:"gray-900",style:o,weight:400,children:"-"});let{visible:d,hidden:u}=n.reduce((e,t)=>(0===e.visible.length||!s&&1===e.visible.length&&e.visible[0].length<=20?e.visible.push(t):e.hidden.push(t),e),{visible:[],hidden:[]});return(0,i.jsx)(r.x,{as:"span",className:t,weight:500,children:(0,i.jsxs)(l.K,{align:"center",direction:"row",gap:2,style:{display:"flex",maxWidth:"100%",alignItems:"stretch",...o},children:[d.map((e,t)=>{let n=t===d.length-1;return(0,i.jsx)(c.Z,{showIcon:a,style:{marginRight:n?void 0:"var(--geist-gap-half)",minWidth:0},truncate:!0,url:e},e)}),u.length?(0,i.jsx)(m,{hidden:u}):null]})})}},668457:function(e,t,n){"use strict";n.d(t,{g:function(){return k}});var i=n(397458),l=n(938187),r=n(944736),s=n(545674),a=n(29180),o=n(840905),d=n(700246),c=n(132950),u=n(121446),h=n(950429),m=n(419570),p=n(134922),x=n(908103),g=n(279662),y=n(892663),f=n(763210),j=n(218165),v=n.n(j);function b(e){let{isForm:t,children:n,className:l}=e;return t?(0,i.jsx)("label",{className:l,children:n}):(0,i.jsx)("div",{className:l,children:n})}function k(e){var t,n,j,k,_,w;let{deployment:C,isForm:S,isPromote:R,isPreviousDeployment:D,isProductionDeployment:N,selectedDeployment:P,setSelectedDeployment:$}=e,A=(0,x.R)(C.createdAt||0),I=(0,m.T$)(C),z=(0,p.S)(C),E="Preview";if("target"in C)switch(C.target){case"staging":E="Staging";break;case"production":E="Production";break;default:E="Preview"}else E="Production";let L="uid"in C?C.uid:C.id,Z="";"target"in C&&(Z=(0,g.Ez)(C)||"&mdash;");let{readyValue:M}=(0,y._Z)();if(!M)return(0,i.jsxs)(b,{className:`${v().card} ${N?v().current:""}`,isForm:S,children:[S?(0,i.jsx)("input",{"aria-label":"Rollback Deployment",checked:(null==P?void 0:P.uid)===L,className:v().input,name:"rollbackDeployment",onChange:()=>{"uid"in C&&"type"in C&&$&&$(C)},type:"radio",value:L}):null,(0,i.jsxs)(c.K,{gap:1,style:{maxWidth:S?"75%":"82%"},children:[(0,i.jsxs)(h.r,{className:v().deploymentLink,href:I,target:"_blank",children:[(0,i.jsxs)(u.x,{as:"span",style:{marginRight:6},title:C.url,truncate:!0,weight:700,children:[C.url," "]}),(0,i.jsx)(o.d,{size:16,style:{strokeWidth:2}})]}),(null==z?void 0:z.commitMessage)?(0,i.jsx)(u.x,{as:"p",color:"gray-900",size:14,title:z.commitMessage,truncate:1,weight:500,children:z.commitMessage}):null,(0,i.jsxs)("div",{className:v().branch,children:[(0,i.jsxs)(u.x,{as:"span",color:"gray-900",size:14,style:{marginRight:"4px"},children:[E," "]}),(null==z?void 0:z.commitRef)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.X,{size:16}),(0,i.jsx)(u.x,{as:"span",className:v().code,title:z.commitRef,children:z.commitRef}),(0,i.jsx)(u.x,{as:"span",color:"gray-900",children:"by"}),(0,i.jsxs)("div",{className:v().gitAvatar,children:[(0,i.jsx)(u.x,{as:"span",color:"gray-900",children:(null===(t=C.meta)||void 0===t?void 0:t.originalDeploymentId)||!z.commitAuthorLogin?null===(n=C.creator)||void 0===n?void 0:n.username:z.commitAuthorLogin}),(0,i.jsx)(f.DY,{deployment:C,size:20})]})]}):null]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(u.x,{as:"span",color:"gray-900",size:14,children:["Deployed"," "]}),(0,i.jsx)(u.x,{as:"span",color:"gray-900",size:14,weight:500,children:A}),(0,i.jsxs)(u.x,{as:"span",color:"gray-900",size:14,children:[","," "]}),"target"in C?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.x,{as:"span",color:"gray-900",size:14,children:["live for"," "]}),(0,i.jsx)(u.x,{as:"span",color:"gray-900",size:14,weight:600,children:Z})]}):(0,i.jsx)(u.x,{as:"span",color:"gray-900",size:14,weight:600,children:"Currently Live"})]})]}),N?(0,i.jsx)(u.x,{as:"div",className:v()["badge-current"],children:"Current"}):null,D?(0,i.jsx)(u.x,{as:"div",className:v()["badge-previous"],children:"Previous"}):null]});let T=null;R?(null==z?void 0:z.commitRef)&&(T=(0,i.jsxs)(c.K,{align:"center",direction:"row",gap:.5,children:[(0,i.jsx)(s.X,{size:16,style:{stroke:"var(--ds-gray-900)"}}),(0,i.jsx)(u.x,{as:"span",color:"gray-900",style:{marginRight:"6px"},title:z.commitRef,children:z.commitRef}),(0,i.jsx)(f.DY,{deployment:C,showProviderIcon:!0,size:24}),(0,i.jsxs)(u.x,{as:"span",color:"gray-900",style:{marginLeft:"6px"},children:["Staged"," ",A," by"]}),(0,i.jsx)("div",{className:v().gitAvatar,children:(0,i.jsx)(u.x,{as:"span",color:"gray-900",children:(null===(j=C.meta)||void 0===j?void 0:j.originalDeploymentId)||!z.commitAuthorLogin?null===(k=C.creator)||void 0===k?void 0:k.username:z.commitAuthorLogin})})]})):T=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:v().branch,children:[(0,i.jsxs)(u.x,{as:"span",color:"gray-900",size:14,style:{marginRight:"4px"},children:[E," "]}),(null==z?void 0:z.commitRef)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.X,{color:"gray-900",size:16}),(0,i.jsx)(u.x,{as:"span",className:v().code,title:z.commitRef,children:z.commitRef}),(0,i.jsx)(u.x,{as:"span",color:"gray-900",children:"by"}),(0,i.jsxs)("div",{className:v().gitAvatar,children:[(0,i.jsx)(u.x,{as:"span",color:"gray-900",children:(null===(_=C.meta)||void 0===_?void 0:_.originalDeploymentId)||!z.commitAuthorLogin?null===(w=C.creator)||void 0===w?void 0:w.username:z.commitAuthorLogin}),(0,i.jsx)(f.DY,{deployment:C,size:16})]})]}):null]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)(u.x,{as:"span",color:"gray-900",size:14,children:["Deployed"," "]}),(0,i.jsx)(u.x,{as:"span",color:"gray-900",size:14,weight:500,children:A}),(0,i.jsxs)(u.x,{as:"span",color:"gray-900",size:14,children:[","," "]}),"target"in C?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(u.x,{as:"span",color:"gray-900",size:14,children:["live for"," "]}),(0,i.jsx)(u.x,{as:"span",color:"gray-900",size:14,weight:600,children:Z})]}):(0,i.jsx)(u.x,{as:"span",color:"gray-900",size:14,weight:600,children:"Currently Live"})]})]});let O=null;return S||(O=R?(0,i.jsx)(a.k,{className:v().icon,size:16,style:{flexShrink:0}}):N?(0,i.jsx)(l.a,{className:v().icon,size:16,style:{flexShrink:0}}):(0,i.jsx)(r.b,{className:v().icon,color:"var(--geist-success)",size:16,style:{flexShrink:0}})),(0,i.jsxs)(b,{className:`${v().card} ${N?v().current:""}`,isForm:S,children:[S?(0,i.jsx)("input",{"aria-label":"Rollback Deployment",checked:(null==P?void 0:P.uid)===L,className:v().input,name:"rollbackDeployment",onChange:()=>{"uid"in C&&"type"in C&&$&&$(C)},type:"radio",value:L}):O,(0,i.jsxs)("div",{style:{width:N||D?"initial":"100%"},children:[(0,i.jsx)(h.r,{className:v().deploymentLink,href:I,target:"_blank",children:(0,i.jsx)(u.x,{as:"span",title:C.url,truncate:1,weight:700,children:C.url})}),(null==z?void 0:z.commitMessage)?(0,i.jsxs)(u.x,{as:"p",className:v().commitMessage,color:"gray-900",size:14,title:z.commitMessage,truncate:1,weight:500,children:[z.commitSha.substring(0,7)," ",z.commitMessage]}):null,T]}),N?(0,i.jsx)(d.C,{className:v()["badge-current"],style:{background:"var(--geist-foreground)"},children:"Current"}):null,D?(0,i.jsx)(d.C,{className:v()["badge-current"],variant:"gray-subtle",children:"Previous"}):null]})}},54796:function(e,t,n){"use strict";n.d(t,{I:function(){return q}});var i=n(397458),l=n(14517),r=n(652983),s=n(29180),a=n(385750),o=n(508226),d=n(700246),c=n(835093),u=n(132950),h=n(121446),m=n(957717),p=n(160844),x=n.n(p),g=n(279662),y=n(359490),f=n(950429),j=n(908103),v=n(791688),b=n(134922),k=n(40268),_=n(878593),w=n(560033),C=n(998845),S=n(128248),R=n(892663),D=n(419570),N=n(579877),P=n(763210),$=n(852390),A=n(944736),I=n(840905),z=n(467662),E=n(879758),L=n(188010),Z=n(755159),M=n(562149),T=n(278127),O=n(909268),F=n(520102);function B(e){let{deployment:t,redeploy:n,handleClickCreateAlias:l,itemsOnly:r,handleCancelDeployment:a,canPromoteToProduction:o,canRedeployProduction:d,canUpdateDeployment:c,canReadDeployment:p,canRollbackDeployment:x,isCurrentProductionDeployment:g,isRollbackMenu:y,handleClickRollback:j,getPromoteTooltip:b,getRollbackTooltip:k}=e,_=(0,Z.e1)(),w=(0,D.T$)(t),{readyValue:C}=(0,R._Z)(),S=()=>n(t,!0),N="state"in t?()=>null==a?void 0:a(t):void 0,P=a&&"state"in t&&("QUEUED"===t.state||"BUILDING"===t.state),B="state"in t&&"READY"===t.state,W=c||(!("target"in t)||"production"===t.target)&&d,U=(null==k?void 0:k(t))??"",H=C?!!U:void 0!==k?!!U:!t.isRollbackCandidate,q=H?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.K,{className:"geist-show-on-mobile",children:(0,i.jsx)(O.C,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},trigger:(0,i.jsx)(z.s,{"data-testid":(0,v.C)("deployment-entity","dots-menu","instant-rollback"),disabled:!0,children:(0,i.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(h.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,i.jsx)($.b,{color:"var(--accents-3)",size:16})]})}),children:(0,i.jsx)(F.Menu,{style:{position:"relative",top:"35px"},tipOffset:4,tipSide:"left",width:"300px",children:(0,i.jsx)(h.x,{style:{paddingLeft:"10px"},children:U})})})}),(0,i.jsx)(u.K,{className:"geist-hide-on-mobile",children:(0,i.jsx)(m.u,{forceHide:""===U,position:"left",text:U,children:(0,i.jsx)(z.s,{"data-testid":(0,v.C)("deployment-entity","dots-menu","instant-rollback"),disabled:!0,children:(0,i.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(h.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,i.jsx)($.b,{color:"var(--accents-3)",size:16})]})})})})]}):(0,i.jsx)(z.s,{"data-testid":(0,v.C)("deployment-entity","dots-menu","instant-rollback"),onClick:j,title:U,children:(0,i.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(h.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:"Instant Rollback"}),(0,i.jsx)(A.b,{size:16})]})}),K=(null==b?void 0:b(t,g))??"",V=C?!!K:!o||g||"readyState"in t&&"READY"!==t.readyState||"state"in t&&"READY"!==t.state,Y=C&&"target"in t&&"production"===t.target?"Promote":"Promote to Production",G=null;C?G=V?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.K,{className:"geist-show-on-mobile",children:(0,i.jsx)(O.C,{anchorOrigin:{vertical:"top",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},trigger:(0,i.jsx)(z.s,{disabled:!0,children:(0,i.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(h.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:Y}),(0,i.jsx)($.b,{color:"var(--accents-3)",size:16})]})}),children:(0,i.jsx)(F.Menu,{style:{position:"relative",top:"35px"},tipOffset:4,tipSide:"left",width:"300px",children:(0,i.jsx)(h.x,{style:{paddingLeft:"10px"},children:K})})})}),(0,i.jsx)(u.K,{className:"geist-hide-on-mobile",children:(0,i.jsx)(m.u,{forceHide:""===K,position:"left",text:K,children:(0,i.jsx)(z.s,{disabled:!0,children:(0,i.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(h.x,{as:"span",style:{fontSize:"inherit",color:"inherit"},children:Y}),(0,i.jsx)($.b,{color:"var(--accents-3)",size:16})]})})})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(z.s,{onClick:S,children:(0,i.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(h.x,{as:"span",children:Y}),(0,i.jsx)(s.k,{size:16})]})}),(0,i.jsx)(E.R,{})]}):o&&(G=(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(z.s,{onClick:S,children:(0,i.jsxs)(u.K,{align:"center",direction:"row",gap:2,children:[(0,i.jsx)(h.x,{as:"span",children:Y}),(0,i.jsx)(s.k,{size:16})]})}),(0,i.jsx)(E.R,{})]}));let J=y&&x?(0,i.jsxs)(i.Fragment,{children:[q,(0,i.jsx)(E.R,{})]}):(0,i.jsxs)(i.Fragment,{children:[x?q:null,o?G:null]}),Q=(0,i.jsxs)(i.Fragment,{children:[o||x?J:null,W&&!y?(0,i.jsx)(z.s,{onClick:()=>n(t),children:"Redeploy"}):null,p?(0,i.jsx)(z.s,{Component:f.r,href:w,isLink:!0,children:"Inspect Deployment"}):null,p&&!y?(0,i.jsx)(z.s,{Component:f.r,href:`${w}/source`,isLink:!0,children:"View Source"}):null,p?(0,i.jsx)(z.s,{onClick:()=>{(0,M.v)(t.url),_.message("Copied to clipboard!")},children:"Copy URL"}):null,B&&c?(0,i.jsx)(z.s,{onClick:l,children:"Assign Domain"}):null,P&&c?(0,i.jsx)(z.s,{onClick:N,type:"error",children:"Cancel Deployment"}):null,p?(0,i.jsxs)(z.s,{Component:f.r,disabled:!t,href:`https://${t.url}`,isLink:!0,target:"_blank",children:["Visit \xa0 ",(0,i.jsx)(I.d,{align:"top",size:16})]}):null,!(o&&W&&c&&p&&x)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(E.R,{}),x?null:(0,i.jsx)(L.d,{children:"Instant Rollback"}),o?null:(0,i.jsx)(L.d,{children:C?"Promote":"Promote to Production"}),W?null:(0,i.jsx)(L.d,{children:"Redeploy"}),p?null:(0,i.jsx)(L.d,{children:"Inspect Deployment"}),p?null:(0,i.jsx)(L.d,{children:"View Source"}),p?null:(0,i.jsx)(L.d,{children:"Copy URL"}),B&&!c?(0,i.jsx)(L.d,{children:"Assign Domain"}):null,P&&!c?(0,i.jsx)(L.d,{children:"Cancel Deployment"}):null,p?null:(0,i.jsxs)(L.d,{children:["Visit \xa0 ",(0,i.jsx)(I.d,{align:"top",size:16})]})]})]});return r?Q:(0,i.jsx)(T.DotsMenu,{closeOnSelect:y,children:Q})}var W=n(670829),U=n.n(W);function H(e){var t,n,l;let a,{deployment:d,deploymentsMap:h}=e,m=null==d?void 0:null===(t=d.meta)||void 0===t?void 0:t.originalDeploymentId;m&&(a=null==h?void 0:h.get(m));let{data:p,isLoading:x}=(0,_.ZP)(a?void 0:m,{revalidateIfStale:!1,revalidateOnFocus:!1,revalidateOnReconnect:!1});p&&(a=p);let g=(0,D.T$)(a),j=(0,r.useMemo)(()=>a?(0,C.Z)(a).hash:"",[a]);if(m){let e=(null===(n=d.meta)||void 0===n?void 0:n.action)==="promote"||"production"===d.target&&(null===(l=a)||void 0===l?void 0:l.target)!=="production";return(0,i.jsx)(y.Sn,{className:U().deploymentSource,title:(0,i.jsx)(u.K,{className:U().line,direction:"row",gap:2,children:x?(0,i.jsx)(c.O,{boxHeight:22,height:14,vcenter:!0,width:100}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:U().icon,children:e?(0,i.jsx)(s.k,{size:16,weight:"bold"}):(0,i.jsx)(o.k,{size:16,weight:"bold"})}),(0,i.jsxs)("span",{className:U().rebuild,children:[e?"Production Rebuild":"Redeploy"," of"," ",a?(0,i.jsx)(f.r,{href:g,title:a.host||"",variant:"secondary",children:j?(0,i.jsx)(w.Z,{children:j}):a.host||""}):"a deleted deployment"]})]})}),titleSkeletonWidth:100})}return(0,i.jsx)(y.Sn,{description:(0,i.jsx)(S.A,{deployment:d,gap:0}),descriptionSkeletonWidth:100,title:null,titleSkeletonWidth:100})}function q(e){var t,n;let{deployment:r,deploymentsMap:o,isCurrentProductionDeployment:c,redeploy:p,handleClickCreateAlias:_,handleCancelDeployment:w,project:C,openRollbackModal:S,getPromoteTooltip:$,getRollbackTooltip:A}=e,I=(0,j.R)((null==r?void 0:r.created)||0),z=(0,D.T$)(r),E=r?(0,b.S)(r):null,L=(0,j.R)("number"==typeof(null==r?void 0:r.aliasAssigned)?r.aliasAssigned:0),Z=(null==r?void 0:null===(t=r.meta)||void 0===t?void 0:t.deployHookId)||void 0,{can:M,isLoading:T}=(0,k.ZP)({projectIdOrName:null==C?void 0:C.name}),O=(null==r?void 0:r.target)!==null?k._z.Deployment:k._z.DeploymentPreview,F=M(k.aU.Update,O),W=M(k.aU.Read,O),U=M(k.aU.Create,k._z.DeploymentRollback),q=M(k.aU.Create,k._z.Deployment),K=M(k.aU.Create,k._z.DeploymentFromProductionBranch),V=q||K||F||W||U,{readyValue:Y}=(0,R._Z)(),G=null;r&&(G=Y?(0,i.jsx)(f.r,{href:z,style:{display:"flex",alignItems:"center",gap:8},title:r.url,children:(0,i.jsx)(h.x,{size:14,truncate:!0,weight:600,children:r.url.startsWith(r.name)?r.url.replace(`${r.name}-`,"").split(/[^a-zA-Z0-9]/)[0]:r.url})}):(0,i.jsx)(f.r,{href:z,style:{display:"flex",alignItems:"center",gap:8},title:r.url,children:(0,i.jsx)(h.x,{size:14,truncate:!0,weight:600,children:r.url})}));let J=null,Q=(0,i.jsx)(u.K,{align:"center",direction:"row",gap:1,children:(0,i.jsxs)(i.Fragment,{children:["Promoted ",L]})});return(null==r?void 0:r.readySubstate)&&"production"===r.target&&(J=(0,i.jsxs)(i.Fragment,{children:["STAGED"===r.readySubstate?`: ${x()(String(r.readySubstate))}`:null,"PROMOTED"===r.readySubstate?(0,i.jsx)(m.u,{text:Q,children:(0,i.jsx)(a.k,{color:"var(--ds-gray-900)",fill:!1,size:16})}):null]}),c&&(J=(0,i.jsx)(m.u,{text:Q,children:(0,i.jsx)(d.C,{icon:(0,i.jsx)(s.k,{}),size:"sm",variant:"blue-subtle",children:"Current"})}))),(null==r?void 0:r.readySubstate)==="PROMOTED"&&null===r.target&&L&&(J=(0,i.jsx)(m.u,{text:Q,children:(0,i.jsx)(a.k,{color:"var(--ds-gray-900)",fill:!1,size:16})})),(0,i.jsxs)(y.JH,{className:(0,l.W)({"deployment-entity":!!r}),"data-testid":(0,v.C)("deployments","deployment-entity",(null==r?void 0:r.uid)??"no-uid"),disabledDotMenuTooltip:V?void 0:(0,i.jsxs)(i.Fragment,{children:["Additional permissions are required to manage Deployment."," ",(0,i.jsx)(f.r,{href:"/docs/deployments/managing-deployments",variant:"highlight",children:"Learn More →"})]}),isDotMenuDisabled:!V,menuButtonProps:{"aria-label":"Deployment Actions","data-testid":(0,v.C)("deployment-entity","dots-menu","button")},menuItems:r?(0,i.jsx)(B,{canPromoteToProduction:q,canReadDeployment:W,canRedeployProduction:K,canRollbackDeployment:U,canUpdateDeployment:F,deployment:r,getPromoteTooltip:$,getRollbackTooltip:A,handleCancelDeployment:()=>null==w?void 0:w(r),handleClickCreateAlias:()=>null==_?void 0:_(r),handleClickRollback:()=>{if(S){let e=c?void 0:r;S(e)}},isCurrentProductionDeployment:c,itemsOnly:!0,redeploy:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return null==p?void 0:p(...t)}}):null,menuListTestId:`${(null==r?void 0:r.uid)??"no-uid"}-dots-menu`,placeholder:!r||T,children:[(0,i.jsx)(y.Sn,{"data-testid":(0,v.C)("deployment-entity","target"),description:r?(0,i.jsx)(u.K,{align:"center",direction:"row",gap:1,children:(0,i.jsxs)(i.Fragment,{children:[null!==r.target?x()(r.target):"Preview",Y?J:null,!Y&&c?" (Current)":null]})}):null,descriptionSkeletonWidth:80,title:G,titleSkeletonWidth:220}),(0,i.jsx)(y.Sn,{description:(0,i.jsx)("span",{style:{display:"block",height:"20px"},children:(0,i.jsx)(g.ZP,{deployment:r,padLeft:!0})}),descriptionSkeletonWidth:146,descriptionWrap:!1,title:r?(0,i.jsx)(h.x,{as:"span",style:{color:"var(--accents-6)",fontWeight:400},weight:500,children:(0,i.jsx)(N.Z,{deployment:r,label:!0,state:r.state,statusTextColor:"gray-900"})}):null,titleSkeletonWidth:146,width:146}),(0,i.jsx)(H,{deployment:r,deploymentsMap:o}),(0,i.jsx)(y.Sn,{avatar:r?(0,i.jsx)(P.DY,{deployment:r,showProviderIcon:!0,size:24}):null,description:r?(0,i.jsxs)(i.Fragment,{children:[I,void 0===Z&&(!(null===(n=r.meta)||void 0===n?void 0:n.originalDeploymentId)&&(null==E?void 0:E.commitAuthorLogin)?` by ${E.commitAuthorLogin}`:` by ${null==r?void 0:r.creator.username}`),void 0!==Z&&(0,i.jsx)(i.Fragment,{children:"\xa0via Deploy Hook"})]}):null,descriptionTitle:(null==r?void 0:r.created)?new Date(r.created).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",right:!0})]})}},32643:function(e,t,n){"use strict";n.d(t,{a:function(){return h}});var i=n(397458),l=n(602396),r=n(487554),s=n(235838),a=n(342958),o=n(852049),d=n(791688),c=n(10119),u=n.n(c);function h(e){var t;let{scope:n,project:c,hasProjectLink:h,style:m}=e;return(0,i.jsx)(s.Z,{className:u().defaultHeight,style:m,children:(0,i.jsxs)(a.Z,{center:!0,className:u().container,hcenter:!0,children:[(0,i.jsx)("div",{className:u().icon,children:(0,i.jsx)(l.W,{})}),(0,i.jsx)(o.ZP,{className:u().title,"data-testid":(0,d.C)("no-deployment-card","title"),h3:!0,noMargin:!0,children:"No Production Deployment"}),(0,i.jsx)(a.Z,{className:u().subtitleContainer,flex:0,children:(0,i.jsx)(o.ZP,{noMargin:!0,preset:"body-2",children:h?(0,i.jsxs)(i.Fragment,{children:["To update your Production Deployment, push to the"," ",(null==c?void 0:null===(t=c.link)||void 0===t?void 0:t.productionBranch)?`"${c.link.productionBranch}"`:"Repository Default"," ","branch."]}):"Connect your Project with a Git repository to create a Production Deployment."})}),(0,i.jsx)(a.Z,{center:!0,direction:["column","column","row"],flex:0,style:{color:"var(--accents-5)",fontSize:"12px"},children:h?(0,i.jsx)(r.Z,{href:"/docs/deployments/git#production-branch",children:"Learn More"}):(0,i.jsx)(r.Z,{as:`/${n}/${null==c?void 0:c.name}/settings/git`,disabled:!c,href:"/[teamSlug]/[project]/settings/git",children:"Connect Git repository"})})]})})}},620068:function(e,t,n){"use strict";var i=n(397458),l=n(426326),r=n(901291),s=n(431465),a=n(65984);t.Z=()=>{let e=(0,l.useRouter)(),{data:t}=(0,s.PY)(e.query.project),n=(0,a.F)(t);return(null==t?void 0:t.name)&&n?(0,i.jsxs)(r.Z,{fill:!0,label:!1,type:"warning",variant:"contrast",children:["The Project ",(0,i.jsx)("b",{children:t.name})," is being transferred into"," ",(0,i.jsx)("b",{children:n.name}),"."]}):(0,i.jsx)(r.Z,{fill:!0,label:!1,type:"warning",variant:"contrast",children:"\xa0"})}},486263:function(e,t,n){"use strict";var i=n(397458),l=n(426326),r=n(895022),s=n(426476),a=n(852049),o=n(342958),d=n(235838),c=n(7594),u=n(431465),h=n(65984),m=n(460245),p=n.n(m),x=n(439768);t.Z=()=>{let e=(0,l.useRouter)(),{data:t}=(0,u.PY)(e.query.project),{transferredFromAccountId:n}=t||{},m=(0,h.F)(t),g=null==n?void 0:n.startsWith("team_");return t&&m?(0,i.jsx)(d.Z,{children:(0,i.jsx)("div",{className:p().wrapper,children:(0,i.jsxs)(o.Z,{center:!0,children:[(0,i.jsx)(a.ZP,{h3:!0,noMargin:!0,style:{maxWidth:"360px",marginBottom:"16px"},children:"Transferring Project"}),(0,i.jsxs)(o.Z,{center:!0,row:!0,children:[(0,i.jsx)(s.qE,{placeholder:!n,size:48,teamId:g?n:void 0,uid:g?void 0:n}),(0,i.jsx)(c.L,{inline:!0,x:.25}),x.Q,(0,i.jsx)(c.L,{inline:!0,x:.25}),(0,i.jsx)(s.qE,{hash:null==m?void 0:m.avatar,placeholder:!m,size:48,teamId:m.id})]}),(0,i.jsx)(c.L,{}),(0,i.jsx)(r.$,{}),(0,i.jsx)(c.L,{}),(0,i.jsxs)(a.ZP,{center:!0,className:p().message,noMargin:!0,type:"secondary",children:["The Project ",(0,i.jsx)("b",{children:t.name})," is being transferred into"," ",(0,i.jsx)("b",{children:m.name}),"."]})]})})}):null}},245421:function(e,t,n){"use strict";var i,l;n.d(t,{EQ:function(){return r},Q3:function(){return d},b$:function(){return o},gp:function(){return s},pJ:function(){return a},vd:function(){return i}});let r=["HTML","JS","CSS","Image","Media","Font","Misc"];function s(e){return"matcher"in e}function a(e){return r.includes(e.type)}function o(e){return"runtime"in e}function d(e){return"staticRoutes"in e}(l=i||(i={})).StaticAssets="staticAssets",l.ServerlessFunctions="serverlessFunctions",l.EdgeFunctions="edgeFunctions",l.EdgeMiddleware="edgeMiddleware",l.IncrementalStaticRegeneration="ISR"},736376:function(e,t,n){"use strict";n.d(t,{LU:function(){return d},ek:function(){return l},s_:function(){return r}});var i=n(245421);let l=(e,t)=>{let n,i;let l=e.map(e=>{let{startedAt:t}=e;return t}).filter(e=>void 0!==e);l.length&&(n=Math.min(...l));let r=e.map(e=>{let{updatedAt:t}=e;return t}).filter(e=>void 0!==e);return r.length&&(null==t?void 0:t.checksConclusion)&&(i=Math.max(...r)),{checksStartedAt:n,checksFinishedAt:i}},r=e=>{let t=e.findIndex(e=>e.type===i.vd.ServerlessFunctions);if(-1!==t){let n=e[t],{isrFunctions:l,otherFunctions:r}=n.artefacts.reduce((e,t)=>"ISR"===t.type?{...e,isrFunctions:[...e.isrFunctions,t]}:{...e,otherFunctions:[...e.otherFunctions,t]},{isrFunctions:[],otherFunctions:[]});e.push({type:i.vd.IncrementalStaticRegeneration,artefacts:l}),n.artefacts=r}let n=e.findIndex(e=>e.type===i.vd.EdgeFunctions);if(-1!==n){let l=e[n].artefacts;if(-1===t)e.push({type:i.vd.ServerlessFunctions,artefacts:l});else{let i=e[t];i.artefacts.push(...l),e.splice(n,1)}}let l=e.findIndex(e=>e.type===i.vd.IncrementalStaticRegeneration);if(-1!==l){let t=o(e[l].artefacts);e[l].artefacts=t}let r=e.find(e=>e.type===i.vd.EdgeMiddleware),s=e.find(e=>e.type===i.vd.StaticAssets),a=e.find(e=>e.type===i.vd.ServerlessFunctions),d=e.find(e=>e.type===i.vd.IncrementalStaticRegeneration),c=[r,s,a,d].filter(e=>void 0!==e&&e.artefacts.length>0);return c},s=/\[.*]$|\[\[.*]]$/,a=e=>s.test(e),o=e=>{let{dynamicRoutes:t,staticRoutes:n}=e.reduce((e,t)=>{if(a(t.path)){let n=function(e){let t=[],n=!1;for(let i=0;i<e.length;i++){let l=e.charAt(i);"["===l?n=!0:"]"===l?(n=!1,t.push("[]")):n||t.push(l)}return t.join("")}(t.path);return{...e,dynamicRoutes:{...e.dynamicRoutes,[n]:{...t,staticRoutes:[],originalPath:t.path}}}}return{...e,staticRoutes:[...e.staticRoutes,t]}},{dynamicRoutes:{},staticRoutes:[]}),i=[],l=Object.keys(t);n.forEach(e=>{let n=e.path.split("/"),r=n.slice(0,-1).join("/");r&&(r=`${r}/`);let s=`${r}[]`,a=`${n.slice(0,-1).join("/")}/[][]`;if(l.includes(s)){t[s].staticRoutes.push(e);return}if(l.includes(a)){t[a].staticRoutes.push(e);return}i.push({...e,staticRoutes:[]})});let r=Object.values(t).map(e=>({path:e.originalPath,regions:e.regions,staticRoutes:e.staticRoutes,runtime:e.runtime,size:e.size,type:e.type}));return[...r,...i]};function d(e){if(0===e)return"0ms";let t=e%1e3,n=Math.floor(e/1e3%60),i=Math.floor(e/6e4%60),l=[];return i>0&&l.push(`${i}m`),n>0&&l.push(`${n}s`),t>0&&l.push(`${t}ms`),l.join(" ")}},785382:function(e,t,n){"use strict";n.d(t,{n:function(){return m}});var i=n(397458),l=n(651938),r=n(652983),s=n(835093),a=n(533673),o=n(787392),d=n(684874),c=n(140278),u=n(282966),h=n(312831);let m=(0,r.memo)(e=>{let{skeleton:t,onSelect:n,project:m,value:p,includeProductionBranch:x}=e,[g,y]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!1),[v,b,{currentValue:k,setValueImmediate:_}]=(0,c.$)(p||"",300);(0,r.useEffect)(()=>{p&&_(p)},[_,p]);let[,{branches:w,isValidating:C,fetchedQuery:S}]=(0,h.F)({project:m,includeProductionBranch:x,query:v},{revalidateOnFocus:!1,revalidateIfStale:!1,revalidateOnReconnect:!1}),R=(S||"")!==v,D=!!f&&!!g&&!!k&&R,{filterBranch:N}=(0,o.i)();(0,r.useEffect)(()=>{N&&_(N)},[_,N]),(0,r.useEffect)(()=>{_(p||"")},[_,p]),(0,r.useEffect)(()=>{g||!w||C||y(!0)},[g,w,C]);let[P,$]=(0,r.useState)([]);(0,r.useEffect)(()=>{C||void 0===w||(0!==A.current.query.indexOf(k)&&(A.current={values:[],query:k}),$(w||[]))},[JSON.stringify(w),S]);let A=(0,r.useRef)({values:[],query:""}),I=C||k.length>=v.length&&k.length>=1,z=I?A.current.values:[],E=[...new Set([...z,...D?P:w||[]])],L=(0,r.useRef)(null);return(0,u.Z)(()=>{if(k){var e;null===(e=L.current)||void 0===e||e.setValue(k)}},[k]),(0,u.Z)(()=>{if(!p){var e;null===(e=L.current)||void 0===e||e.clear()}},[p]),(0,i.jsx)(s.O,{show:!!(t&&!g),style:{height:40},children:(0,i.jsxs)(a.y,{filter:function(e,t){let n=""===t?e:(0,l.Lu)(e,t,{keys:["value","label"]}),i=[];for(let e of z)n.find(t=>t.value===e)&&i.push(e);let r=[...new Set([...i,...n.map(e=>e.value)])],s=r.map(e=>{let t=n.find(t=>t.value===e);if(!t)throw Error("impossible state");return t});return A.current={values:r,query:k},s},onChange:e=>{e===N?setTimeout(()=>{var e;null==n||n(null),null===(e=L.current)||void 0===e||e.clear(),_("")}):(d.co.track(d.s6.DEPLOYMENT_OVERVIEW_FILTERS_BRANCH,{value:e}),_(e||""),null==n||n(e))},onChangeOpen:e=>{j(e)},placeholder:"All Branches...",ref:L,children:[(0,i.jsx)(a.y.Input,{loading:D,onChange:e=>{""===e.target.value?_(""):b(e.target.value)}}),(0,i.jsx)(a.y.List,{children:E.map((e,t)=>(0,i.jsx)(a.y.Option,{value:e,children:e},k?e:`${e}${t}`))})]})})})},931535:function(e,t,n){"use strict";n.d(t,{G:function(){return i}});let i=!0},279662:function(e,t,n){"use strict";n.d(t,{Ez:function(){return y}});var i=n(397458),l=n(14517),r=n(182492),s=n(676443),a=n(742538),o=n(895022),d=n(835093),c=n(908103),u=n(155665),h=n(199168),m=n(736376),p=n(610711),x=n.n(p);function g(e){let{animate:t,children:n,inProgress:l}=e;return t?(0,i.jsx)("div",{className:x().duration,children:(0,i.jsxs)(r.S,{children:[(0,i.jsx)(s.M,{children:l?(0,i.jsx)(a.m.div,{animate:{opacity:1,scale:1},className:x().spinner,exit:{opacity:0,scale:.96},initial:{opacity:0,scale:1},children:(0,i.jsx)(o.$,{size:13})}):null}),(0,i.jsx)(a.m.span,{layout:"position",children:n})]})}):(0,i.jsxs)("div",{className:x().duration,children:[l?(0,i.jsx)("div",{className:x().spinner,children:(0,i.jsx)(o.$,{size:13})}):null,n]})}function y(e,t){let n=function(e,t){if(!e)return;let n="readyState"in e?e.readyState:e.state;if("BUILDING"===n)return;let i="readyStateAt"in e?e.readyStateAt:e.ready;if(!i||!e.buildingAt)return;let l=i-e.buildingAt,r=(null==t?void 0:t.length)?(0,m.ek)(t,e):void 0,s=(null==r?void 0:r.checksFinishedAt)&&r.checksStartedAt?r.checksFinishedAt-r.checksStartedAt:0,a=e.aliasAssignedAt??("number"==typeof e.aliasAssigned?e.aliasAssigned:void 0),o=0;a&&(o=(null==r?void 0:r.checksFinishedAt)?a-r.checksFinishedAt:a-i);let d=l+s+o;return d}(e,t);return(0,u.B_)(n,{includeSeconds:!0})}t.ZP=function(e){let t,{deployment:n,createdAgo:r,padLeft:s,animateSpinner:a=!1,showSpinner:o=!0}=e,u=(0,c.v)((null==n?void 0:n.buildingAt)||void 0,{includeSeconds:!0});n&&("id"in n?t=n.id:"uid"in n&&(t=n.uid));let{checks:m,isLoading:p}=(0,h.Z)(t||void 0);if(!n||p)return(0,i.jsx)(d.O,{height:16,width:100});let f="readyState"in n?n.readyState:n.state,j=(null==n?void 0:n.createdAt)||(null==n?void 0:n.created),v=j?new Date(j).toLocaleDateString(void 0,{hour:"numeric",minute:"2-digit",second:"2-digit",year:"numeric",month:"short",day:"numeric",timeZoneName:"short"}):"",b=n.checksState&&!n.checksConclusion,k=!!("BUILDING"===f||"READY"===f&&!n.aliasAssigned&&b),_=y(n,m)||"—",w=(0,i.jsxs)("span",{className:(0,l.W)(!k&&s&&x().padLeft),children:[k?u:_,!k&&r?(0,i.jsxs)("span",{title:v,children:[" (",r,")"]}):null]});return o?(0,i.jsx)(g,{animate:a,inProgress:k,children:w}):w}},36089:function(e,t,n){"use strict";n.d(t,{V:function(){return k}});var i=n(397458),l=n(652983),r=n(545674),s=n(509877),a=n(835093),o=n(487554),d=n(467662),c=n(755159),u=n(359490),h=n(342958),m=n(950429),p=n(7594),x=n(134922),g=n(878593),y=n(562149);let f=(e,t)=>{let n=(0,l.useRef)(0);return t||(n.current=Math.random()),(0,l.useMemo)(()=>e(),[n.current])};var j=n(556524),v=n(558596),b=n.n(v);let k=(0,l.memo)(e=>{var t;let{project:n,branch:l,deployments:v,onClearBranch:k,isLoading:_}=e,w=null==v?void 0:v.find(e=>"READY"===e.state),C=(0,c.e1)(),{data:S,isValidating:R}=(0,g.ZP)(null==w?void 0:w.uid,{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateOnMount:!0}),D=(0,x.S)(w),N=(null==n?void 0:null===(t=n.link)||void 0===t?void 0:t.type)||"github",P=(null==D?void 0:D.prUrl)??(null==D?void 0:D.refUrl)??(null==D?void 0:D.commitUrl)??"",$=_||R,A=(null==S?void 0:S.alias[0])??(null==S?void 0:S.url),I=f(()=>(0,i.jsxs)(u.JH,{filled:!0,placeholder:$,thumbnail:(0,i.jsx)(u.bL,{circular:!0,size:30,children:(0,i.jsx)(r.X,{color:"var(--geist-success)",size:16})}),...!!P&&!$&&{menuItems:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(d.s,{onClick:()=>{(0,y.v)(P),C&&C.current&&C.current.message("Copied url to clipboard!")},children:["Copy ",(null==D?void 0:D.prUrl)?"PR":"Branch"," URL ",(0,i.jsx)(p.L,{})," ",(0,i.jsx)(s.C,{size:14})]}),!!k&&(0,i.jsx)(d.s,{onClick:k,type:"error",children:"Clear filter"})]})},children:[(0,i.jsx)(u.Sn,{description:(0,i.jsxs)(i.Fragment,{children:["Branch URL for\xa0\xa0",P?(0,i.jsx)(m.r,{className:b().entitySpan,href:P,children:l}):(0,i.jsx)("span",{className:b().entitySpan,children:l})]}),title:A?(0,i.jsx)(m.r,{className:b().inline,external:!0,href:`https://${A}`,onClick:()=>{j.co.track(j.nH.CLICK_EVENT,{click_name:"click_button",click_value:"deployments_page_primary_preview_deployments"})},variant:"highlight",children:A}):(0,i.jsx)("div",{className:b().entityMarginBottom,children:"No successful deploy, yet."})}),(0,i.jsx)(u.Sn,{className:b().maxWidthFitContent,right:!0,children:(0,i.jsx)(h.Z,{center:!0,row:!0,children:$?(0,i.jsxs)(h.Z,{center:!0,className:b().skeletonContainer,children:[(0,i.jsx)(a.O,{show:!0,children:(0,i.jsx)(o.Z,{href:"",children:"View PR"})}),(0,i.jsx)(a.O,{style:{width:26,height:18}})]}):(0,i.jsxs)(i.Fragment,{children:[!!(null==D?void 0:D.prUrl)&&(0,i.jsx)(o.Z,{href:null==D?void 0:D.prUrl,tab:!0,type:"secondary",children:"github"===N?"View PR":"View Changes"}),!(null==D?void 0:D.prUrl)&&!!(null==D?void 0:D.refUrl)&&(0,i.jsx)(o.Z,{href:null==D?void 0:D.refUrl,tab:!0,type:"secondary",children:"View Branch"})]})})})]}),$);return $||l?I:null})},734522:function(e,t,n){"use strict";n.d(t,{Lj:function(){return w},ZP:function(){return R},zK:function(){return k}});var i=n(397458),l=n(652983),r=n(14517),s=n(426326),a=n(132950),o=n(835093),d=n(121446),c=n(700246),u=n(779039),h=n(328820),m=n(467662),p=n(390848),x=n(684874),g=n(947573),y=n.n(g);let f={READY:{label:"Ready",className:y().ready,key:"ready"},ERROR:{label:"Error",className:y().error,key:"error"},BUILDING:{label:"Building",className:y().building,key:"building"},QUEUED:{label:"Queued",className:y().queued,key:"queued"},CANCELED:{label:"Canceled",className:y().canceled,key:"canceled"}},j=["ready","error","building","queued"],v="empty";function b(e){let{status:t,...n}=e;return(0,i.jsx)("span",{className:(0,r.W)(y().status,t),...n})}function k(e){let t=Object.keys(e).filter(t=>e[t]).map(e=>e.toUpperCase());return 0===t.length?v:t.join(",")}let _={[f.READY.key]:!0,[f.ERROR.key]:!0,[f.BUILDING.key]:!0,[f.QUEUED.key]:!0,[f.CANCELED.key]:!1};function w(){let e=(0,s.useRouter)(),[t,n]=(0,l.useState)(!0),[i,r]=(0,l.useState)(_);return(0,l.useEffect)(()=>{if(t&&e.isReady){var i;r((i=e.query.status)?i===v?{[f.READY.key]:!1,[f.ERROR.key]:!1,[f.BUILDING.key]:!1,[f.QUEUED.key]:!1,[f.CANCELED.key]:!1}:{[f.READY.key]:i.includes(f.READY.key),[f.ERROR.key]:i.includes(f.ERROR.key),[f.BUILDING.key]:i.includes(f.BUILDING.key),[f.QUEUED.key]:i.includes(f.QUEUED.key),[f.CANCELED.key]:i.includes(f.CANCELED.key)}:{[f.READY.key]:!0,[f.ERROR.key]:!0,[f.BUILDING.key]:!0,[f.QUEUED.key]:!0,[f.CANCELED.key]:!1}),n(!1)}},[e.query.status,e.isReady,t]),(0,l.useEffect)(()=>{let t={...e.query},n=function(e){let t=Object.keys(e).filter(t=>e[t]).sort().join(",");return j.sort().join(",")===t?null:""===t?v:t}(i);n?t.status=n:delete t.status,e.isReady&&e.replace({query:t},void 0,{scroll:!1})},[i,e.query.status]),{isInitialStatusItems:Object.entries(i).every(e=>{let[t,n]=e;return _[t]===n}),selectedStatusItems:i,clearStatus(){r(_)},handleSelectStatusItem:e=>{r(t=>{let n={...t,[e]:!t[e]};return x.co.track(x.s6.DEPLOYMENT_OVERVIEW_FILTERS_STATUS,{status:JSON.stringify(n)}),n})},selectStatusFilterValues:Object.keys(i).filter(e=>i[e]).map(e=>e.toUpperCase())}}let C=(0,l.memo)(e=>{let{selectedStatusItems:t}=e;return(0,i.jsx)("div",{className:y().icon,children:Object.values(f).map((e,n)=>{let{key:l,className:r}=e;return(0,i.jsx)(b,{status:t[l]?r:y().dimmed,style:{left:`${-4*n}px`}},l)})})}),S=(0,i.jsx)("svg",{className:y().check,fill:"none",height:"18",shapeRendering:"geometricPrecision",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5",viewBox:"0 0 24 24",width:"18",children:(0,i.jsx)("path",{d:"M20 6L9 17l-5-5"})});function R(e){let{className:t,selectedStatusItems:n,handleSelectStatusItem:s,skeleton:x=!1,position:g="right"}=e,[j,v]=(0,l.useState)(!1);return(0,l.useEffect)(()=>{x||v(!0)},[x]),(0,i.jsx)("div",{className:(0,r.W)({[y().leftAligned]:"left"===g,[y().rightAligned]:"right"===g},t),children:(0,i.jsx)(o.O,{show:!!(x&&!j),children:(0,i.jsxs)(u.F,{closeOnSelect:!1,children:[(0,i.jsx)(p.j,{align:"flex-grow",showChevron:!0,type:"secondary",children:(0,i.jsxs)(a.K,{align:"center",direction:"row",flex:1,children:[(0,i.jsx)(C,{selectedStatusItems:n}),(0,i.jsx)("span",{className:y().label,children:"Status"}),(0,i.jsxs)(c.C,{className:y().badge,variant:"gray-subtle",children:[Object.values(n).filter(Boolean).length,"/",Object.keys(f).length]})]})}),(0,i.jsx)(h.v,{width:186,children:Object.values(f).map(e=>{let{key:t,className:l,label:r}=e;return(0,i.jsxs)(m.s,{onClick:()=>s(t),children:[(0,i.jsx)(b,{status:l}),(0,i.jsx)(d.x,{className:y().item,children:r}),n[t]?S:null]},t)})})]})})})}},128248:function(e,t,n){"use strict";n.d(t,{A:function(){return v}});var i=n(397458),l=n(835093),r=n(132950),s=n(957717),a=n(652983),o=n(545674),d=n(928643),c=n(385605),u=n(830369),h=n(911528),m=n(950429),p=n(560033),x=n(419570),g=n(627884),y=n.n(g);function f(){return(0,i.jsx)(l.O,{boxHeight:22,height:14,width:100})}function j(e){let t,n,{deployUrl:l="",meta:x,source:g="git",gap:j=1,singleLine:v=!1,textStyle:b}=e,k=!x,_=(0,a.useMemo)(()=>(0,h.ao)(x),[x]),w=`${l}/source`;if(t=v?null:k?(0,i.jsx)(f,{}):_?(0,i.jsxs)("div",{className:y().line,children:[(0,i.jsx)(o.X,{size:16}),(0,i.jsx)(m.r,{href:_.branchUrl,title:"Git Branch",children:(0,i.jsx)(p.Z,{noWrap:!0,style:b,children:_.branchName})})]}):(0,i.jsxs)("div",{className:y().line,children:[(0,i.jsx)(d.E,{size:16}),(0,i.jsx)(m.r,{href:w,children:(0,i.jsx)("span",{style:b,children:"View code"})})]}),k)n=(0,i.jsx)(f,{});else if(_){let e="1"===_.gitDirty,t=_.sha.substring(0,7),l=_.commitMessage;n=(0,i.jsxs)("div",{className:y().line,children:["cli"===g?(0,i.jsx)(u.o,{className:y().terminalIcon,size:16}):(0,i.jsx)(c.a,{size:16}),(0,i.jsxs)(m.r,{href:e?w:_.commitUrl,title:"Git Commit",children:[e?(0,i.jsx)(s.u,{className:y().dirty,desktopOnly:!0,text:(0,i.jsxs)("span",{children:["Based on commit ",(0,i.jsx)("code",{children:t})," with additional modifications"]}),children:(0,i.jsx)(p.Z,{noWrap:!0,style:b,children:t})}):(0,i.jsx)(p.Z,{noWrap:!0,style:b,children:t}),(0,i.jsx)("span",{style:b,title:l,children:l.length>70?`${l.substring(0,70)}…`:l})]})]})}else n=(0,i.jsxs)("div",{className:y().line,children:[(0,i.jsx)(u.o,{size:16}),(0,i.jsx)(m.r,{href:"/docs/cli/deploy",title:"Vercel CLI Docs",children:(0,i.jsx)(p.Z,{noWrap:!0,style:b,children:"vercel deploy"})})]});return(0,i.jsxs)(r.K,{className:y().deploymentSourceLinks,gap:j,children:[t,n]})}let v=(0,a.memo)(function(e){let{deployment:t,...n}=e,l=(0,x.T$)(t),r=t&&"source"in t?t.source:void 0;return(0,i.jsx)(j,{deployUrl:l,meta:null==t?void 0:t.meta,source:r,...n})})},360093:function(e,t,n){"use strict";n.d(t,{b:function(){return ei}});var i=n(397458),l=n(652983),r=n(731352),s=n(589293),a=n(336633),o=n(840905),d=n(132950),c=n(121446),u=n(316944),h=n(789808),m=n(755159),p=n(791688),x=n(970066),g=n(926599),y=n(938187),f=n(940215),j=n(895022),v=n(240904),b=n(835761),k=n.n(b);function _(e){let{className:t,label:n,labelPadding:l=7,labelSize:r=14,size:s=22,status:a}=e,o=(0,v.Z)(s);return(0,i.jsxs)("div",{className:`${k().wrapper} ${t||""}`,style:{height:o},children:["loading"===a&&(0,i.jsx)(j.$,{size:s}),"error"===a&&(0,i.jsx)(y.a,{color:"var(--geist-error)",fill:!0,size:s}),"success"===a&&(0,i.jsx)(f.I,{color:"var(--geist-success)",fill:!0,size:s}),n?(0,i.jsx)(c.x,{as:"span",size:r,style:{lineHeight:o,paddingLeft:(0,v.Z)(l)},children:n}):null]})}var w=n(353729),C=n(58363),S=n(121123),R=n(517659),D=n(270430),N=n(532870),P=n(357162),$=n(803972),A=n(901291),I=n(617031),z=n.n(I),E=n(989947),L=n.n(E),Z=n(892663),M=n(211679),T=n(857994);let O="[teamSlug]";var F=n(431465),B=n(668457),W=n(344906),U=n(720152),H=n.n(U);function q(){return(0,i.jsx)(h.u.Header,{children:(0,i.jsx)(h.u.Title,{center:!0,children:"Instant Rollback"})})}function K(e){let{setStage:t}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.u.Body,{children:[(0,i.jsx)(q,{}),(0,i.jsx)(c.x,{as:"p",style:{marginBottom:"24px"},children:"Error: You must select a deployment to roll back."})]}),(0,i.jsx)(h.u.Actions,{children:(0,i.jsx)(h.u.Action,{fullWidth:!0,onClick:()=>{t("initial")},type:"secondary",children:"Back"})})]})}function V(){return(0,i.jsx)("div",{style:{marginBottom:"24px"},children:(0,i.jsx)(A.Z,{className:z()["warning-note"],fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,i.jsxs)(d.K,{align:"center",direction:"row",gap:4,style:{padding:4},children:[(0,i.jsx)(s.u,{fill:!0,size:"16",style:{flexShrink:0}}),(0,i.jsxs)(d.K,{align:"start",children:[(0,i.jsx)(c.x,{as:"p",color:"inherit",children:"Make sure the domains listed above are correct."}),(0,i.jsx)(c.x,{as:"p",color:"inherit",children:"This deployment has custom aliases not included in the project's domain settings."})]})]})})})}function Y(e){let{deployments:t,previousDeployment:n,productionDeployment:l,selectedDeployment:r,setSelectedDeployment:s,swr:a}=e;return(0,i.jsxs)(i.Fragment,{children:[t.map(e=>l.id!==e.uid&&(0,i.jsx)(B.g,{deployment:e,isForm:!0,isPreviousDeployment:n.uid===e.uid,selectedDeployment:r,setSelectedDeployment:s},e.uid)),!a.isReachingEnd&&(0,i.jsx)(u.z,{className:H()["choose-deployment-btn"],loading:a.isLoadingMore,onClick:()=>{a.loadMore()},style:{marginTop:24},type:"secondary",width:"100%",children:"Show More"})]})}function G(e){var t;let{hasFloatingAliases:n,onCancel:r,previousDeployment:s,productionAliases:m,productionDeployment:x,rollbackCandidates:y,setStage:f,selectedDeployment:j,setSelectedDeployment:v,deploymentSwr:b}=e,k=function(e){let{teamSlug:t}=(0,T.U)()??{},n=(0,l.useMemo)(()=>e.includes(O)?e.replace(`/${O}`,t?`/${t}`:""):e,[t,e]);return n}("/[teamSlug]"),[_,w]=(0,l.useState)(!1),{team:C}=(0,D.t7)(),S=!C||(null===(t=C.billing)||void 0===t?void 0:t.plan)==="hobby",{value:R}=(0,Z.q2)(),{value:N}=(0,M.R4)();return y.length&&s&&j?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.u.Body,{children:[(0,i.jsx)(q,{}),(0,i.jsxs)(c.x,{as:"p",style:{marginBottom:"24px"},children:["Roll back"," ",(0,i.jsx)(W.Z,{domains:m,firstOnly:!0,style:{display:"inline-flex",fontWeight:"bold"}})]}),n?(0,i.jsx)(V,{}):null,(0,i.jsx)("div",{children:(0,i.jsx)(B.g,{deployment:x,isProductionDeployment:!0,selectedDeployment:j,setSelectedDeployment:v})}),(0,i.jsx)(c.x,{as:"p",style:{marginBottom:"24px",marginTop:"24px"},children:"To the following deployment:"}),_?(0,i.jsx)(Y,{deployments:y,previousDeployment:s,productionDeployment:x,selectedDeployment:j,setSelectedDeployment:v,swr:b}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(B.g,{deployment:j,isForm:_,isPreviousDeployment:j.uid===s.uid,selectedDeployment:j,setSelectedDeployment:v}),(R||N)&&S?(0,i.jsx)(d.K,{style:{marginTop:"24px"},children:(0,i.jsx)(A.Z,{className:L()["info-note"],fill:!0,label:!1,variant:"contrast",children:(0,i.jsxs)(d.K,{align:"center",direction:"row",gap:4,style:{padding:1},children:[(0,i.jsx)(a.H,{size:"16",style:{flexShrink:0}}),(0,i.jsxs)(d.K,{align:"start",direction:"column",children:[(0,i.jsx)(c.x,{as:"p",color:"inherit",weight:600,children:"Looking for an earlier deployment?"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(g.r,{className:L()["info-note-link"],href:"/"===k?"/dashboard?createTeam=instant-rollback":`${k}?upgradeTeam=instant-rollback`,target:"_blank",children:(0,i.jsx)(c.x,{as:"span",color:"inherit",children:"Upgrade to Pro"})}),(0,i.jsx)(o.d,{size:14,style:{margin:"-1px 4px",flexShrink:0}}),(0,i.jsx)(c.x,{as:"span",color:"inherit",style:{whiteSpace:"nowrap"},children:"to roll back to an earlier deployment"})]})]})]})})}):(0,i.jsx)(u.z,{onClick:()=>{w(!0)},style:{marginTop:24},type:"secondary",width:"100%",children:"Choose another deployment"})]})]}),(0,i.jsxs)(h.u.Actions,{children:[(0,i.jsx)(h.u.Action,{onClick:r,type:"secondary",children:"Cancel"}),(0,i.jsx)(h.u.Action,{"data-testid":(0,p.C)("deployment","rollback-modal","continue-button"),onClick:()=>{f("selected")},children:"Continue"})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.u.Body,{children:[(0,i.jsx)(q,{}),(0,i.jsx)(c.x,{as:"p",children:"This project does not have any valid deployments to roll back to."})]}),(0,i.jsx)(h.u.Actions,{children:(0,i.jsx)(h.u.Action,{onClick:r,type:"secondary",children:"Cancel"})})]})}function J(e){let{hasFloatingAliases:t,productionAliases:n,productionDeployment:l,productionBranch:r,rollbackCandidates:a,selectedDeployment:u,setSelectedDeployment:m,setStage:y,requestRollback:f,project:j}=e,v=(null==j?void 0:j.autoAssignCustomDomains)??!0;if(!u)return(0,i.jsx)(K,{setStage:y});let b=r?(0,i.jsxs)(i.Fragment,{children:["This rollback will be replaced by the next merge to"," ",(0,i.jsx)(c.x,{as:"span",color:"inherit",monospace:!0,children:r}),"."]}):"This rollback will be replaced by the next production deployment.";return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.u.Body,{children:[(0,i.jsx)(q,{}),(0,i.jsxs)(d.K,{gap:6,children:[(0,i.jsxs)(c.x,{as:"p",children:["Roll back"," ",(0,i.jsx)(W.Z,{domains:n,style:{display:"inline-flex",fontWeight:"bold"}})]}),t?(0,i.jsx)(V,{}):null,(0,i.jsx)(B.g,{deployment:l,isProductionDeployment:!0,selectedDeployment:u,setSelectedDeployment:m}),(0,i.jsx)(c.x,{as:"p",children:"To the following deployment:"}),(0,i.jsx)(B.g,{deployment:u,isPreviousDeployment:u.uid===a[0].uid,selectedDeployment:u,setSelectedDeployment:m}),(0,i.jsxs)(x.UL,{className:H()["warning-list"],children:[(0,i.jsx)(x.LI,{children:"Instant Rollback assigns domains to a previous deployment. All Environment Variables from the original build will remain."}),(0,i.jsxs)(x.LI,{children:[(0,i.jsxs)(g.r,{className:H()["deployment-link"],href:`https://${u.url}`,target:"_blank",children:["View selected deployment"," ",(0,i.jsx)(o.d,{color:"blue-900",size:14,style:{flexShrink:0}})]})," ","before rolling back—external APIs, databases, and CMS platforms may not behave as expected."]})]}),v?(0,i.jsx)(A.Z,{className:z()["warning-note"],fill:!0,label:!1,type:"warning",variant:"contrast",children:(0,i.jsxs)(d.K,{align:"center",direction:"row",gap:4,style:{padding:1},children:[(0,i.jsx)(s.u,{fill:!0,size:"16",style:{flexShrink:0}}),(0,i.jsxs)(d.K,{align:"start",children:[(0,i.jsx)(c.x,{as:"p",color:"inherit",children:b}),(0,i.jsxs)(g.r,{className:z()["warning-note-link"],href:"https://vercel.com/docs/deployments/instant-rollback",target:"_blank",children:[(0,i.jsx)(c.x,{as:"span",color:"inherit",weight:600,children:"Learn more about Instant Rollback"}),(0,i.jsx)(o.d,{size:14,style:{flexShrink:0}})]})]})]})}):null]})]}),(0,i.jsxs)(h.u.Actions,{children:[(0,i.jsx)(h.u.Action,{onClick:()=>{y("initial")},type:"secondary",children:"Back"}),(0,i.jsx)(h.u.Action,{"data-testid":(0,p.C)("deployment","rollback-modal","rollback-button"),onClick:()=>{f(u.uid),y("processing")},children:"Confirm Rollback"})]})]})}function Q(e){let{jobStatus:t,rollbackDeploymentId:n,rollbackCandidates:r,selectedDeployment:s,setStage:a,onCancel:o,statusSwr:d,requestRollback:m}=e;return((0,l.useEffect)(()=>{n===(null==s?void 0:s.uid)&&("failed"===t?a("error"):"succeeded"===t&&a("done"))},[n,t,s,a]),s)?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(h.u.Body,{children:[(0,i.jsx)(q,{}),(0,i.jsxs)(c.x,{as:"p",style:{marginBottom:"24px"},children:["Assigning ",(0,i.jsx)("strong",{children:"Production"})," Domains:"]}),(0,i.jsx)(B.g,{deployment:s,isPreviousDeployment:s.uid===r[0].uid,selectedDeployment:s,setSelectedDeployment:()=>null}),(0,i.jsxs)(x.UL,{className:H()["alias-list"],children:[d.aliases.map(e=>{let t="loading";return"completed"===e.status?t="success":"failed"===e.status&&(t="error"),(0,i.jsx)(x.LI,{children:(0,i.jsx)(_,{label:e.alias,labelPadding:"18px",status:t})},e.alias)}),!d.isReachingEnd&&d.initialDataLoaded?(0,i.jsx)(x.LI,{children:(0,i.jsx)(u.z,{className:H()["choose-deployment-btn"],loading:d.isLoadingMore,onClick:()=>{d.loadMore()},style:{marginTop:24},type:"secondary",width:"100%",children:"Show More"})}):null]})]}),(0,i.jsx)(h.u.Actions,{children:(0,i.jsx)(h.u.Action,{"data-testid":(0,p.C)("deployment","rollback-modal","finish-button"),fullWidth:!0,loading:"failed"!==t&&"succeeded"!==t,onClick:()=>{"failed"===t?m(s.uid):"succeeded"===t&&(a("initial"),o())},children:"failed"===t?"Retry":"Done"})})]}):(0,i.jsx)(K,{setStage:a})}function X(e){let{active:t,initialSelectedDeployment:n,onCancel:r,productionBranch:s,productionDeployment:a,projectId:o,rollbackCandidates:d,swr:c}=e,[u,x]=(0,l.useState)("initial"),{isReady:g,team:y}=(0,D.t7)(),f=(0,m.e1)(),j=(0,l.useMemo)(()=>{if(d.length)return d[0].uid!==a.id?d[0]:d[1]},[d,a]),[v,b]=(0,l.useState)(null);(0,l.useEffect)(()=>{b(n||j||null)},[n,j]);let k=(0,l.useCallback)(x,[x]),_=(0,l.useCallback)(b,[b]),[,{aliases:A}]=(0,P.k)({rollbackDeploymentId:a.id}),{data:I}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,{isReady:n,team:i}=(0,D.t7)();return(0,w.ZP)(()=>n?`${(0,S.Z8)(e)}${(0,R.c)({teamId:null==i?void 0:i.id,rollbackInfo:!0})}`:null,e=>(0,C.I)(e,{throwOnHTTPError:!0}),{refreshInterval:t})}(o,500),{lastRollbackTarget:z,hasFloatingAliases:E}=I||{lastRollbackTarget:null,hasFloatingAliases:!1},{toDeploymentId:L,jobStatus:Z}=z||{toDeploymentId:null,jobStatus:null},[,M]=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,{isReady:r,team:s}=(0,D.t7)(),a=(0,N.ZP)((t,n)=>{if(!r)return null;let l={teamId:null==s?void 0:s.id,limit:i};return t?(null==n?void 0:n.next)?`${(0,S.Ew)(e)}${(0,R.c)({...l,until:n.next})}`:null:`${(0,S.Ew)(e)}${(0,R.c)(l)}`},e=>(0,C.I)(e,{throwOnHTTPError:!0}),{refreshInterval:n}),o=(0,l.useMemo)(()=>a.data?[].concat(...a.data.filter(Boolean).map(e=>e.aliases.slice(0,i))):[],[a.data,i]),d=!!a.data,c=d&&0===o.length,u=d&&a.data&&a.size>a.data.length,h=d&&a.data&&(null===(t=a.data[a.data.length-1])||void 0===t?void 0:t.aliases.length)<i;return[a,{aliases:o,initialDataLoaded:d,isEmpty:c,loadMore:()=>a.setSize(e=>e+1),isLoadingMore:u,isReachingEnd:h,mutate:a.mutate}]}(o,2e3),T=(0,l.useMemo)(()=>a,[t]),O=()=>{x("initial"),b(n||j||null),r()},B=(0,l.useCallback)(async e=>{if(!g)return;let t=`${(0,S.ix)(o,e)}${(0,R.c)({teamId:null==y?void 0:y.id})}`;try{await (0,C.I)(t,{throwOnHTTPError:!0,method:"POST",body:{}})}catch(e){f.error({text:"Something went wrong - please try requesting an Instant Rollback again",key:"rollback-deployment"}),(0,$.captureError)(e)}},[g,o,null==y?void 0:y.id,f]),W=(0,F.PY)(o),{data:U}=W,H={rollbackDeploymentId:L,hasFloatingAliases:!!E,jobStatus:Z,onCancel:O,previousDeployment:j,productionBranch:s,productionDeployment:T,productionAliases:A.map(e=>{let{alias:t}=e;return t}),project:U,rollbackCandidates:d,setStage:k,selectedDeployment:v,setSelectedDeployment:_,deploymentSwr:c,statusSwr:M,requestRollback:B};return(0,i.jsxs)(h.u.Modal,{active:t,"data-testid":(0,p.C)("deployment","rollback-modal"),onClickOutside:O,sticky:!0,width:"500px",children:["initial"===u&&(0,i.jsx)(G,{...H}),"selected"===u&&(0,i.jsx)(J,{...H}),["processing","error","done"].includes(u)&&(0,i.jsx)(Q,{...H})]})}var ee=n(511348),et=n(40268),en=n(870319);function ei(e){var t,n;let{onClose:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[a,o]=(0,l.useState)(!1),[d,c]=(0,l.useState)(),{team:u}=(0,D.t7)(),h=!u||(null===(t=u.billing)||void 0===t?void 0:t.plan)==="hobby",{value:m}=(0,Z.q2)(),{value:p}=(0,M.R4)(),{readyValue:x}=(0,Z._Z)(),g=m||p,{deployment:y,mutate:f,isLoading:j}=(0,r.s)(null==e?void 0:e.id),{can:v}=(0,et.ZP)({projectIdOrName:null==e?void 0:e.name}),b=v(et.aU.Create,et._z.DeploymentRollback),k=(null==e?void 0:null===(n=e.link)||void 0===n?void 0:n.productionBranch)?e.link.productionBranch:void 0,[_,w]=(0,ee.V)({projectId:e?e.id:"",limit:10,rollbackCandidate:!0},{}),{deployments:C,initialDataLoaded:S}=w,R=!!(S&&e&&!C.length),N=(0,l.useCallback)(e=>{c((0,en.e)(e)),o(!0)},[]),P=(0,l.useCallback)(()=>{o(!1),f().finally(()=>null),null==s||s()},[f,s]),$=(0,l.useCallback)(e=>{let t=(0,en.e)(e),n=h&&!(null==t?void 0:t.isRollbackCandidate);return x&&t&&"readySubstate"in t&&"PROMOTED"!==t.readySubstate?"Only Deployments previously aliased to a Production domain can be rolled back.":R?"There are no previous deployments to roll back to.":t?j?"Loading...":x&&"readyState"in t&&"READY"!==t.readyState||x&&"state"in t&&"READY"!==t.state?"Only Deployments that are Ready can be rolled back.":t.uid===(null==y?void 0:y.id)?"This Deployment is already in Production.":g?t.isRollbackCandidate||"production"===t.target?n?"Hobby customers can only roll back to the previous deployment.":"":"Only Deployments previously aliased to a Production domain can be rolled back.":t.isRollbackCandidate?"":"Only Deployments previously aliased to a Production domain can be rolled back.":""},[h,x,R,j,null==y?void 0:y.id,g]),A=(0,l.useMemo)(()=>b&&a&&y&&e?(0,i.jsx)(X,{active:a,initialSelectedDeployment:d,onCancel:P,productionBranch:k,productionDeployment:y,projectId:e.id,rollbackCandidates:C,swr:w}):null,[b,a,d,k,y,C,e,w,P]);return{rollbackModal:A,closeRollbackModal:P,openRollbackModal:N,getRollbackTooltip:$,canRollbackDeployment:b,noRollbackCandidates:R}}},198040:function(e,t,n){"use strict";n.d(t,{Z:function(){return L}});var i=n(397458),l=n(652983),r=n(403873),s=n(426326),a=n(132950),o=n(121446),d=n(154791),c=n(789808),u=n(755159),h=n(940215),m=n(342958),p=n(852049),x=n(950429),g=n(7594),y=n(793356),f=n(799374),j=n(278127),v=n(71299),b=n(270430),k=n(731352),_=n(58363),w=n(517659),C=n(121123),S=n(419570),R=n(191947),D=n(892663),N=n(791688),P=n(870319),$=n(690613),A=n(613262),I=n(668457),z=n(931535);function E(e){let{title:t}=e;return(0,i.jsx)(c.u.Header,{children:(0,i.jsx)(c.u.Title,{center:!0,children:t})})}function L(e,t){let[n,L]=(0,l.useState)(!1),[Z,M]=(0,l.useState)(!1),[T,O]=(0,l.useState)(null),[F,B]=(0,l.useState)(void 0),W=(0,A.q)({project:t,deployment:T}),[U,H]=(0,l.useState)(z.G),q=(0,u.e1)(),K=(0,s.useRouter)(),{user:V}=(0,v.a)(),{team:Y}=(0,b.t7)(),{data:G}=(0,R.B8)(e,{limit:3,production:"true"}),{readyValue:J}=(0,D._Z)(),Q=(0,l.useCallback)(e=>{O(e),L(!0),J||H(z.G)},[J]),X=(0,l.useCallback)(()=>{L(!1)},[]),ee=(0,l.useCallback)(()=>{M(!1),O(null),B(void 0)},[]),{deployment:et,isLoading:en}=(0,k.s)(null==t?void 0:t.id),ei=(0,l.useCallback)((e,t)=>{let n=(0,P.e)(e);return J&&!n?"":J&&en?"Loading...":J&&(null==n?void 0:n.uid)===(null==et?void 0:et.id)?"This Deployment is already in Production.":J&&n&&"production"===n.target&&"readySubstate"in n&&"STAGED"!==n.readySubstate?'Only preview and staged production deployments can be promoted. If you want to make this deployment "Current", use Instant Rollback.':J&&n&&"readyState"in n&&"READY"!==n.readyState||J&&n&&"state"in n&&"READY"!==n.state?"Only Deployments that are Ready can be promoted.":t?"Deployment is already the current deployment":(null==n?void 0:n.state)!=="READY"?"Deployment is not ready and cannot be promoted.":""},[en,null==et?void 0:et.id,J]),el=(0,l.useCallback)(async()=>{if(T&&t){M(!0),B(void 0);try{let e;let n=null==Y?void 0:Y.id,i="Promoted Deployment successfully.";if(J&&"production"===T.target)await (0,_.I)(`${(0,C.rx)(t.id,T.uid||T.id)}${(0,w.c)({teamId:n})}`,{method:"POST",body:{},throwOnHTTPError:!0}),e=(0,S.Rj)(T,V,Y);else{let l=await (0,_.I)(`${(0,C.PP)("v13")}${(0,w.c)({teamId:n,skipIgnoreBuildStep:W&&!U?"1":null})}`,{method:"POST",body:JSON.stringify({deploymentId:T.uid||T.id,meta:{action:"promote"},name:t.name,target:"production"}),throwOnHTTPError:!0});e=(0,S.Rj)(l,V,Y),i="production"===T.target&&(T.uid||T.id)===l.id?"Deployment is already the current Production Deployment.":"production"===T.target&&(T.uid||T.id)!==l.id?"Promoted Deployment to Production successfully.":"Created Production Deployment successfully."}q.success({text:i,key:"production-deployment"}),X(),e&&await K.push(e)}catch(e){B((0,r.SC)(e))}finally{M(!1),J||H(z.G)}}},[T,q,K,V,Y,X,t,U,W,J]),er=(0,l.useMemo)(()=>t&&T?J?(0,i.jsxs)(i.Fragment,{children:["production"===T.target?(0,i.jsx)(o.x,{as:"p",style:{marginBottom:"1em"},weight:600,children:"Deployment to promote:"}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.x,{as:"p",style:{marginBottom:"1em"},children:"A new Production Deployment (which includes a Build) will be issued using your Production Environment."}),(0,i.jsx)(o.x,{as:"p",style:{marginBottom:"1em"},weight:600,children:"Deployment to promote to production:"})]}),(0,i.jsx)("div",{children:(0,i.jsx)(I.g,{deployment:T,isPromote:!0,selectedDeployment:null})}),G&&G.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(o.x,{as:"p",style:{marginBottom:12,marginTop:24},weight:600,children:"It will be aliased to the following domains:"}),(0,i.jsx)(a.K,{gap:2,children:G.map(e=>{let{name:t}=e;return(0,i.jsx)(o.x,{as:"p",children:(0,i.jsxs)(a.K,{align:"center",direction:"row",gap:4,children:[(0,i.jsx)(h.I,{color:"var(--geist-success",fill:!0}),(0,i.jsx)("span",{children:t.startsWith("*")?t:(0,i.jsx)(x.r,{"data-testid":(0,N.C)("deployments","promote-to-production-overlay","preview-link"),external:!0,href:`https://${t}`,variant:"highlight",children:t})})]})},t)})})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(o.x,{as:"p",style:{marginBottom:"24px",marginTop:"24px"},children:["Warning: Your Project does not have a Production Domain. We recommend you"," ",(0,i.jsx)(x.r,{href:`/${Y?Y.slug:null==V?void 0:V.username}/${encodeURIComponent(t.name)}/settings/domains`,variant:"highlight",children:"add"})," ","one."]})})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(p.ZP,{preset:"body-2",children:["This Deployment will be promoted to ",(0,i.jsx)("strong",{children:"Production"}),"."]}),"production"!==T.target?(0,i.jsx)(p.ZP,{preset:"body-2",children:"A new Production Deployment (which includes a Build) will be issued using your Production Environment."}):null,G&&(null==G?void 0:G.length)>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.ZP,{preset:"body-2",children:"The following Domains will point to your new Deployment:"}),(0,i.jsxs)(j.Table,{children:[G.slice(0,2).map(e=>{let{name:t}=e;return(0,i.jsx)(j.TableRow,{children:(0,i.jsx)(j.TableCell,{style:{padding:1===G.length?0:"0 10px"},children:t.startsWith("*")?t:(0,i.jsx)(x.r,{"data-testid":(0,N.C)("deployments","promote-to-production-overlay","preview-link"),external:!0,href:`https://${t}`,variant:"highlight",children:t})})},t)}),G.length>2?(0,i.jsx)(j.TableRow,{children:(0,i.jsx)(j.TableCell,{children:(0,i.jsxs)(x.r,{as:`/${Y?Y.slug:null==V?void 0:V.username}/${encodeURIComponent(t.name)}/settings/domains`,href:"/[teamSlug]/[project]/settings/domains",variant:"highlight",children:["...and ",G.length-2," more"]})})}):null]})]}):(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(p.ZP,{preset:"body-2",children:["Warning: Your Project does not have a Production Domain. We recommend you"," ",(0,i.jsx)(x.r,{href:`/${Y?Y.slug:null==V?void 0:V.username}/${encodeURIComponent(t.name)}/settings/domains`,variant:"highlight",children:"add"})," ","one."]})}),(0,i.jsx)(p.ZP,{preset:"body-2",children:"Additionally, all Environment Variables defined for the Production Environment in the Project Settings will be applied."}),W?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(g.L,{y:.25}),(0,i.jsx)(d.X,{checked:U,fullWidth:!0,onChange:()=>{H(!U)},children:"Use project's Ignore Build Step"}),(0,i.jsx)($.Z,{margin:24})]}):null,(0,i.jsx)(p.ZP,{preset:"body-2",children:"Are you sure you want to continue?"})]}):(0,i.jsx)(m.Z,{center:!0,style:{marginTop:10},children:(0,i.jsx)(f.Z,{size:4})}),[G,t,Y,V,T,U,W,J]),es=(0,l.useMemo)(()=>(0,i.jsx)(c.u.Action,{"data-testid":(0,N.C)("deployments","promote-to-production-overlay","confirm-button"),loading:Z,onClick:el,children:J&&T&&"target"in T&&"production"===T.target?"Promote":"Promote to Production"}),[el,Z,T,J]),ea=(0,l.useMemo)(()=>(0,i.jsxs)(c.u.Modal,{active:n,"data-testid":(0,N.C)("deployments","promote-to-production-overlay"),onAnimationDone:ee,onClickOutside:X,sticky:J,width:"500px",children:[(0,i.jsxs)(c.u.Body,{children:[J?null:(0,i.jsx)(c.u.Header,{children:(0,i.jsx)(c.u.Title,{children:"Promote to Production"})}),J?(0,i.jsx)(E,{title:T&&"target"in T&&"production"!==T.target?"Promote to Production":"Promote"}):null,er,F?(0,i.jsx)(y.Z,{error:F}):null]}),(0,i.jsxs)(c.u.Actions,{children:[(0,i.jsx)(c.u.Action,{"data-testid":(0,N.C)("deployments","promote-to-production-overlay","cancel-button"),loading:!1,onClick:X,type:"secondary",children:"Cancel"}),es]})]}),[er,X,ee,n,es,F,T,J]);return{modal:ea,close:X,open:Q,getPromoteTooltip:ei}}},752898:function(e,t,n){"use strict";n.d(t,{Z:function(){return D}});var i=n(397458),l=n(652983),r=n(426326),s=n(132950),a=n(154791),o=n(789808),d=n(755159),c=n(359490),u=n(852049),h=n(950429),m=n(7594),p=n(793356),x=n(71299),g=n(270430),y=n(849500),f=n(419570),j=n(103497),v=n(542791),b=n(191947),k=n(791688),_=n(613262),w=n(892663),C=n(931535),S=n(672457),R=n.n(S);function D(e,t){let[n,S]=(0,l.useState)(!1),[D,N]=(0,l.useState)(!1),[P,$]=(0,l.useState)(null),[A,I]=(0,l.useState)(void 0),[z,E]=(0,l.useState)(!1),L=(0,_.q)({project:t,deployment:P}),[Z,M]=(0,l.useState)(C.G),T=(0,d.e1)(),O=(0,r.useRouter)(),{user:F}=(0,x.a)(),{team:B}=(0,g.t7)(),W=null==P?void 0:P.target,U=(0,l.useMemo)(()=>{if(!P)return null;let e=Array.isArray(P.alias)?P.alias:[];return Array.from(new Set(e))},[P]),{data:H}=(0,b.B8)("production"===W?e:null,{limit:3,production:"true"}),q=(0,l.useCallback)(e=>{$(e),S(!0),E(!1),M(C.G)},[]),K=(0,l.useCallback)(()=>{S(!1)},[]),V=(0,l.useCallback)(()=>{N(!1),$(null),I(void 0)},[]),Y=(0,l.useCallback)(async()=>{N(!0),I(void 0),(0,y.Z)({deployment:P,includeBuildCache:z,project:t,target:W,team:B,skipIgnoreBuildStep:!!L&&!Z}).then(e=>{if(!e)return;T.success("Deployment created successfully.");let t=(0,f.Rj)(e,F,B);O.push(t),K()}).catch(e=>{I(e)}).finally(()=>{N(!1),E(!1),M(C.G)})},[P,t,T,O,F,B,K,W,z,Z,L]),{readyValue:G}=(0,w._Z)(),J=(null==t?void 0:t.autoAssignCustomDomains)??!0,Q=(0,l.useMemo)(()=>{let e=!G||J,n=(null==U?void 0:U.length)===0&&(!H||(null==H?void 0:H.length)===0);return!e||n?(0,i.jsxs)(u.ZP,{noMargin:!0,preset:"body-2",children:["Your new Deployment will not be assigned any Domains because"," ",e?(0,i.jsxs)(i.Fragment,{children:["there are no assignable domains."," ",(0,i.jsx)(h.r,{external:!0,href:"/docs/projects/domains/add-a-domain",variant:"highlight",children:"Learn more about adding a domain"})]}):(0,i.jsxs)(i.Fragment,{children:['the "Auto-assign Custom Production Domains" Project Setting is disabled.'," ",(0,i.jsx)(h.r,{external:!0,href:"/docs/deployments/managing-deployments#promote-deployment-to-production",variant:"highlight",children:"Learn more about promoting deployments"})]})]}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(u.ZP,{noMargin:!0,preset:"body-2",style:{color:"var(--accents-6)"},children:"You are about to create a new Deployment with the same source code as your current Deployment, but with the newest configuration from your Project Settings."}),(0,i.jsx)(m.L,{y:2/3}),(0,i.jsx)(u.ZP,{noMargin:!0,preset:"body-2",style:{color:"var(--accents-6)"},children:"The following Domains will point to your new Deployment:"}),(0,i.jsx)(m.L,{y:2/3}),"production"!==W&&U?U.map(e=>(0,i.jsx)(c.JH,{children:(0,i.jsx)(c.Sn,{title:(0,i.jsx)(h.r,{external:!0,href:"https://"+e,variant:"highlight",children:e})})},e)):null,H?(0,i.jsxs)(i.Fragment,{children:["production"===W&&H.slice(0,2).map(e=>{let{name:t}=e;return(0,i.jsx)(c.JH,{children:(0,i.jsx)(c.Sn,{title:(0,j.Z)(t)?t:(0,i.jsx)(h.r,{external:!0,href:"https://"+t,variant:"highlight",children:t})})},t)}),t&&"production"===W&&H.length>2?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(m.L,{y:2/3}),(0,i.jsxs)(h.r,{href:`/${B?B.slug:null==F?void 0:F.username}/${encodeURIComponent(t.name)}/settings/domains`,tab:!0,variant:"highlight",children:["...and ",H.length-2," more."]})]}):null,t&&"production"!==W&&H.length>0?(0,i.jsxs)(h.r,{href:`/${B?B.slug:null==F?void 0:F.username}/${encodeURIComponent(t.name)}/settings/domains`,tab:!0,variant:"highlight",children:["...and ",H.length," more."]}):null]}):null]})},[U,H,W,t,F,B,G,J]),X=(0,l.useMemo)(()=>(0,i.jsxs)(o.u.Modal,{active:n,"data-testid":(0,k.C)("redeploy-modal","modal"),onAnimationDone:V,onClickOutside:K,width:"500px",children:[(0,i.jsxs)(o.u.Body,{className:R().body,children:[(0,i.jsx)(o.u.Header,{children:(0,i.jsxs)(o.u.Title,{children:["Redeploy ",W&&`to ${(0,v.Z)(W)}`]})}),Q,(0,i.jsx)(m.L,{y:1}),A?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(p.Z,{error:A}),(0,i.jsx)(m.L,{y:1})]}):null,(0,i.jsxs)(s.K,{gap:1,children:[(0,i.jsx)(a.X,{checked:z,fullWidth:!0,onChange:()=>{E(!z)},children:"Use existing Build Cache"}),L?(0,i.jsx)(a.X,{checked:Z,fullWidth:!0,onChange:()=>{M(!Z)},children:"Use project's Ignore Build Step"}):null]}),(0,i.jsx)(m.L,{y:1}),(0,i.jsx)(h.r,{external:!0,href:"/docs/deployments/troubleshoot-a-build#understanding-build-cache",variant:"highlight",children:"Learn more about caching"})]}),(0,i.jsxs)(o.u.Actions,{children:[(0,i.jsx)(o.u.Action,{loading:!1,onClick:K,type:"secondary",children:"Cancel"}),(0,i.jsx)(o.u.Action,{"data-testid":(0,k.C)("redeploy-modal","redeploy-button"),disabled:!U&&!H,loading:D,onClick:Y,children:"Redeploy"})]})]}),[Q,K,V,n,D,A,Y,U,H,z,W,Z,L]);return{modal:X,close:K,open:q}}},613262:function(e,t,n){"use strict";n.d(t,{q:function(){return s}});var i=n(652983),l=n(892663);function r(e){let{commandForIgnoringBuildStep:t}=e||{};return"string"==typeof t&&t.trim().length>0}function s(e){let{project:t,deployment:n}=e,[s,a]=(0,i.useState)(!1),{isReady:o,value:d}=(0,l.eC)();return(0,i.useEffect)(()=>{let e=o&&d&&(r(t)||r(null==n?void 0:n.projectSettings));a(!!e)},[o,d,t,null==n?void 0:n.projectSettings]),s}},970066:function(e,t,n){"use strict";n.d(t,{LI:function(){return d},OL:function(){return o},UL:function(){return a}});var i=n(397458),l=n(14517),r=n(104333),s=n.n(r);let a=e=>{let{children:t,className:n}=e;return(0,i.jsx)("ul",{className:(0,l.W)(s().ul,n),children:t})},o=e=>{let{children:t,className:n}=e;return(0,i.jsx)("ol",{className:(0,l.W)(s().ol,n),children:t})},d=e=>{let{children:t,className:n}=e;return(0,i.jsx)("li",{className:(0,l.W)(s().li,n),children:t})}},235838:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(397458);n(652983);var l=n(243801),r=n.n(l),s=n(342958);function a(e){let{className:t,classNames:n=[],styles:l,hoverAnimation:a,border:o=!1,shadow:d=!0,padding:c=!0,children:u,...h}=e,{className:m,styles:p}={styles:(0,i.jsx)(r(),{id:"c0b0c9ba5f9da5c8",dynamic:[c?"var(--geist-gap)":"0",d?"var(--shadow-small)":"none",o?"border: 1px solid var(--accents-2);":"",a?"var(--shadow-large)":d?"var(--shadow-small)":"none",a?"1":"auto"],children:`.geist-card.__jsx-style-dynamic-selector{padding:${c?"var(--geist-gap)":"0"};-webkit-border-radius:var(--geist-radius);-moz-border-radius:var(--geist-radius);border-radius:var(--geist-radius);background:var(--geist-background);-webkit-box-shadow:${d?"var(--shadow-small)":"none"};-moz-box-shadow:${d?"var(--shadow-small)":"none"};box-shadow:${d?"var(--shadow-small)":"none"};${o?"border: 1px solid var(--accents-2);":""}
      transition: box-shadow .2s ease;}.__jsx-style-dynamic-selector:hover{-webkit-box-shadow:${a?"var(--shadow-large)":d?"var(--shadow-small)":"none"};-moz-box-shadow:${a?"var(--shadow-large)":d?"var(--shadow-small)":"none"};box-shadow:${a?"var(--shadow-large)":d?"var(--shadow-small)":"none"};z-index:${a?"1":"auto"}}`}),className:r().dynamic([["c0b0c9ba5f9da5c8",[c?"var(--geist-gap)":"0",d?"var(--shadow-small)":"none",o?"border: 1px solid var(--accents-2);":"",a?"var(--shadow-large)":d?"var(--shadow-small)":"none",a?"1":"auto"]]])};return(0,i.jsx)(s.Z,{classNames:["geist-card",m,t,...n],"data-version":"v1",styleSets:(0,i.jsxs)(i.Fragment,{children:[p,l]}),...h,children:u})}function o(e){let{disabled:t,active:n,children:l,...s}=e,{className:o,styles:d}={styles:(0,i.jsx)(r(),{id:"a47cad01214c0ace",dynamic:[n?"var(--geist-foreground)":"var(--accents-2)",t?"not-allowed":"pointer",n?"var(--geist-foreground)":t?"var(--accents-1)":"var(--geist-background)",n?"var(--geist-background)":t?"var(--accents-4)":"none"],children:`.geist-card-picker.__jsx-style-dynamic-selector{width:512pt;max-width:100%;-webkit-box-shadow:none;-moz-box-shadow:none;box-shadow:none;border:1px solid ${n?"var(--geist-foreground)":"var(--accents-2)"};cursor:${t?"not-allowed":"pointer"};-webkit-transition:background.2s ease,border.2s ease;-moz-transition:background.2s ease,border.2s ease;-o-transition:background.2s ease,border.2s ease;transition:background.2s ease,border.2s ease;background:${n?"var(--geist-foreground)":t?"var(--accents-1)":"var(--geist-background)"};color:${n?"var(--geist-background)":t?"var(--accents-4)":"none"}}.geist-card-picker.__jsx-style-dynamic-selector:hover{border:1px solid var(--geist-foreground)}`}),className:r().dynamic([["a47cad01214c0ace",[n?"var(--geist-foreground)":"var(--accents-2)",t?"not-allowed":"pointer",n?"var(--geist-foreground)":t?"var(--accents-1)":"var(--geist-background)",n?"var(--geist-background)":t?"var(--accents-4)":"none"]]])};return(0,i.jsx)(a,{classNames:["geist-card-picker",o],styles:d,...s,children:l})}function d(e){let{children:t,wide:n,hasAuthors:l,...s}=e,{className:o,styles:d}={styles:(0,i.jsx)(r(),{id:"917d477652f355aa",dynamic:[n?"0":"var(--geist-gap-double)"],children:`.geist-card-project.geist-card.__jsx-style-dynamic-selector{padding:0;margin-bottom:${n?"0":"var(--geist-gap-double)"};-webkit-border-radius:8px;-moz-border-radius:8px;border-radius:8px;background:var(--geist-background)}`}),className:r().dynamic([["917d477652f355aa",[n?"0":"var(--geist-gap-double)"]]])};return(0,i.jsx)(a,{classNames:["geist-card-project",o],styles:d,...s,children:t})}function c(e){let{picker:t=!1,project:n=!1,...l}=e;return t?(0,i.jsx)(o,{...l}):n?(0,i.jsx)(d,{...l}):(0,i.jsx)(a,{...l})}},560033:function(e,t,n){"use strict";var i=n(397458),l=n(14517),r=n(729176),s=n.n(r);t.Z=e=>{let{children:t,className:n,noWrap:r,title:a,truncate:o,style:d}=e;return(0,i.jsx)("code",{className:(0,l.W)(s().code,n,{[s().nowrap]:r,[s().truncate]:o}),"data-geist-inline-code":"","data-version":"v1",style:d,title:a,children:t})}},838874:function(e,t,n){"use strict";var i=n(397458),l=n(652983),r=n(55442),s=n(676443),a=n(742538),o=n(14517),d=n(477234),c=n(509877),u=n(316944),h=n(47518),m=n(755159),p=n(791688),x=n(372649),g=n.n(x);let y={visible:{opacity:1,scale:1},hidden:{opacity:0,scale:.5}};t.Z=e=>{let{className:t,textToCopy:n,onClick:x,label:f,title:j,type:v="secondary",variant:b,normal:k,hover:_,active:w,shape:C="square",size:S,icon:R,iconSize:D=20,...N}=e,P=(0,m.e1)(),[$,A]=(0,l.useState)(!1),I=(0,l.useRef)(null),z=l.useCallback(e=>{I.current&&clearTimeout(I.current),navigator.clipboard.writeText(n).then(()=>{A(!0),I.current=setTimeout(()=>{A(!1)},1e3)}).catch(()=>P.error("Failed to copy to clipboard")).finally(()=>null==x?void 0:x(e))},[n,P,x]),E=(0,i.jsx)(r.A,{transition:{duration:.15},children:(0,i.jsx)(s.M,{initial:!1,mode:"wait",children:$?(0,i.jsx)(a.m.div,{animate:"visible",className:g().copyButtonIcon,"data-testid":(0,p.C)("copy","success"),exit:"hidden",initial:"hidden",variants:y,children:(0,i.jsx)(d.J,{size:D})},"check"):(0,i.jsx)(a.m.div,{animate:"visible",className:g().copyButtonIcon,exit:"hidden",initial:"hidden",variants:y,children:R||(0,i.jsx)(c.C,{size:D})},"copy")})});return k||_||w?(0,i.jsx)(h.o,{active:w,"aria-label":f,className:(0,o.W)(t),"data-testid":(0,p.C)("copy","button"),hover:_,normal:k,onClick:z,shape:C,size:S,svgOnly:!0,title:j,typeName:"button",...N,children:E}):(0,i.jsxs)(u.z,{"aria-label":f,className:(0,o.W)(t),"data-testid":(0,p.C)("copy","button"),onClick:z,shape:C,size:S,svgOnly:!0,title:j,type:v,typeName:"button",variant:b,...N,children:[$?(0,i.jsx)("div",{"aria-live":"assertive",className:"geist-sr-only",role:"status",children:"Copied!"}):null,E]})}},230180:function(e,t,n){"use strict";var i=n(397458),l=n(652983),r=n(14517),s=n(562458),a=n(838874),o=n(72681),d=n.n(o);let c=(0,l.memo)(e=>{let{text:t,copyText:n,onCopy:o,width:c,compact:u=!1,prompt:h=!0,icon:m=!0,dark:p,type:x,fill:g,className:y,variant:f,placeholder:j,...v}=e,b=(0,s.X)(x,g,f),k=(0,l.useMemo)(()=>n||(Array.isArray(t)?t.join("\n"):"string"==typeof t?t:""),[t,n]),_=!!(!t&&j);return(0,i.jsxs)("div",{className:(0,r.W)(d().snippet,{[d().prompt]:h,[d().dark]:p,[d().isUsingPlaceholder]:_},y,b),...v,"data-geist-snippet":"","data-version":"v1",style:{width:c,height:u?"36px":"auto",...v.style},children:[Array.isArray(t)?t.map((e,n)=>(0,i.jsx)("pre",{className:"geist-overflow-scroll-y",children:e},`snippet-${t}-${e}-${n}`)):(0,i.jsx)("pre",{className:"geist-overflow-scroll-y",style:u?{height:"36px",lineHeight:1}:void 0,children:t||j}),m?(0,i.jsx)(a.Z,{className:d().copyIcon,label:"Copy to clipboard",onClick:()=>{null==o||o()},textToCopy:k}):null]})});t.Z=c},870319:function(e,t,n){"use strict";function i(e){if(!e)return;if("id"in e==!1)return e;let{aliasAssigned:t,aliasError:n=null,aliasAssignedAt:i,buildingAt:l,created:r=e.createdAt,createdAt:s,creator:a,name:o,ready:d,state:c="BUILDING",target:u=null,uid:h=e.id,url:m,isRollbackCandidate:p="production"===e.target}=e;return{aliasAssigned:t,aliasError:n,aliasAssignedAt:i,buildingAt:l,created:r,createdAt:s,creator:{email:"",githubLogin:"",...a},name:o,ready:d,state:c,target:u,type:"LAMBDAS",uid:h,url:m,isRollbackCandidate:p}}n.d(t,{e:function(){return i}})},849500:function(e,t,n){"use strict";var i=n(58363),l=n(517659),r=n(121123);async function s(e){let{deployment:t,includeBuildCache:n=!1,skipIgnoreBuildStep:s=!1,project:a,team:o,target:d}=e;if(!t||!a)return null;let c=null==o?void 0:o.id,u=(()=>{var e,n;if("production"!==t.target||!(null===(n=a.targets)||void 0===n?void 0:null===(e=n.production)||void 0===e?void 0:e.id))return!1;let i=a.targets.production;if("READY"!==i.readyState)return!1;let l=t.id||t.uid;return l!==i.id})();if(u)throw{message:"A more recent Production Deployment has been created, so the one you are looking at cannot be redeployed anymore.",action:"Learn More",link:"https://vercel.link/redeploy-production-deployment"};let h=await (0,i.I)(`${(0,r.PP)("v13")}${(0,l.c)({teamId:c,forceNew:"1",...n&&{withCache:"1"},skipIgnoreBuildStep:s?"1":null})}`,{method:"POST",body:JSON.stringify({deploymentId:t.uid||t.id,meta:{action:"redeploy"},name:a.name,target:d||void 0}),throwOnHTTPError:!0});return h}t.Z=s},787392:function(e,t,n){"use strict";n.d(t,{R:function(){return o},i:function(){return a}});var i=n(652983),l=n(426326),r=n(892663),s=n(282966);let a=()=>{let e=(0,l.useRouter)(),t=Array.isArray(e.query.filterBranch)?e.query.filterBranch[0]:e.query.filterBranch;return{isReady:e.isReady,filterBranch:t}};function o(){var e,t;let{project:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=a(),[d,c]=(0,i.useState)(null);(0,i.useEffect)(()=>{o.isReady&&c(o.filterBranch||null)},[o.isReady,o.filterBranch]);let u=(0,l.useRouter)(),h=(0,i.useCallback)(e=>{c(e),function(e,t){let n={...e.query};t?n.filterBranch=t:delete n.filterBranch,e.replace({pathname:window.location.pathname,query:n},void 0,{shallow:!0,scroll:!1})}(u,e)},[u]),m=d?{ref:d}:void 0,p=(0,i.useCallback)(()=>{d&&(c(null),h(null))},[d,h]),x=(null==n?void 0:null===(e=n.link)||void 0===e?void 0:e.type)&&d?{[`${null==n?void 0:null===(t=n.link)||void 0===t?void 0:t.type}CommitRef`]:d}:void 0,g=!!(0,r.$m)().value,y=!n||!o.isReady,[f,j]=(0,i.useState)({search:!1,filter:!1}),v=!!d;return(0,s.Z)(()=>{j({search:g,filter:g&&!y&&v})},[j,y,g,v]),{showBranchSearchBar:f.search,showBranchFilterBar:f.filter,filteredBranch:d,setFilteredBranch:h,clearBranch:p,gitSource:m,meta:x}}},2995:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(180665);function l(e){if(!(!e||"network_error"===e.code||"rate_limited"===e.code||"too_many_requests"===e.code||"cancelled"===e.message||(0,i.I)())&&504!==e.status&&!e.saml)throw e.isDashboard=!0,e}},911528:function(e,t,n){"use strict";n.d(t,{DK:function(){return a},St:function(){return d},ao:function(){return c},pN:function(){return o}});var i=n(397458),l=n(884889),r=n(245016),s=n(816469);function a(e){let t=e.githubCommitOrg!==e.githubOrg;return{logo:(0,i.jsx)(s.default,{}),branchUrl:`https://github.com/${e.githubCommitOrg}/${e.githubCommitRepo}/tree/${e.githubCommitRef}`,branchName:`${t?`${e.githubCommitOrg}:`:""}${e.githubCommitRef}`,commitUrl:`https://github.com/${e.githubCommitOrg}/${e.githubCommitRepo}/commit/${e.githubCommitSha}`,commitMessage:e.githubCommitMessage,sha:e.githubCommitSha,gitDirty:e.gitDirty}}function o(e){return{logo:(0,i.jsx)(r.default,{}),branchUrl:`https://gitlab.com/${e.gitlabProjectPath}/tree/${e.gitlabCommitRef}`,branchName:e.gitlabCommitRef,commitUrl:`https://gitlab.com/${e.gitlabProjectPath}/commit/${e.gitlabCommitSha}`,commitMessage:e.gitlabCommitMessage,sha:e.gitlabCommitSha,gitDirty:e.gitDirty}}function d(e){return{logo:(0,i.jsx)(l.default,{}),branchUrl:`https://bitbucket.org/${e.bitbucketRepoOwner}/${e.bitbucketRepoSlug}/branch/${e.bitbucketCommitRef}`,branchName:e.bitbucketCommitRef,sha:e.bitbucketCommitSha,commitUrl:`https://bitbucket.org/${e.bitbucketRepoOwner}/${e.bitbucketRepoSlug}/commits/${e.bitbucketCommitSha}`,commitMessage:e.bitbucketCommitMessage,gitDirty:e.gitDirty}}function c(e){if(e){if(e.githubDeployment)return a(e);if(e.gitlabDeployment)return o(e);if(e.bitbucketDeployment)return d(e)}}},65984:function(e,t,n){"use strict";n.d(t,{F:function(){return r},FA:function(){return l}});var i=n(270430);function l(e){return!!e&&!!(e.transferStartedAt&&!e.transferCompletedAt)}function r(e){let{team:t,teams:n}=(0,i.t7)();if(!e)return null;let{transferToAccountId:l}=e;if(l){let e=(n||[]).find(e=>e.id===l);return e||null}return t}},140278:function(e,t,n){"use strict";n.d(t,{$:function(){return l}});var i=n(652983);function l(e,t){let[n,l]=(0,i.useState)(e),[r,s]=function(e,t){let[n,l]=(0,i.useState)(e);return(0,i.useEffect)(()=>{let n=setTimeout(()=>{l(e)},t);return()=>clearTimeout(n)},[e,l,t]),[n,l]}(n,t);return[r,l,{currentValue:n,setValueImmediate:(0,i.useCallback)(e=>{l(e),s(e)},[l,s])}]}},278127:function(e,t,n){"use strict";n.r(t),n.d(t,{DotsMenu:function(){return w.Z},Table:function(){return b},TableCell:function(){return _},TableHead:function(){return x},TableRow:function(){return g}});var i=n(397458),l=n(243801),r=n.n(l),s=n(652983),a=n(14517),o=n(869480),d=n.n(o),c=n(882858);let u=e=>e.props.onClick,h=(e,t)=>{let n=0;return s.Children.map(e,e=>t(e)&&u(e)?(n+=1,s.cloneElement(e,{selectable:!0,even:n%2!=0})):e)},m=e=>{let{isRowType:t,...n}=e;return(0,i.jsxs)("tbody",{...n,className:"jsx-bcbab08ca9bd006a "+(n&&null!=n.className&&n.className||""),children:[h(n.children,t),(0,i.jsx)(r(),{id:"bcbab08ca9bd006a",children:"tbody.jsx-bcbab08ca9bd006a tr:not(:last-child) td{border-bottom:1px solid var(--accents-2)}thead+tbody.jsx-bcbab08ca9bd006a tr:last-child td{border-bottom:1px solid var(--accents-2)}tbody.jsx-bcbab08ca9bd006a td{color:var(--accents-6);font-size:14px}"})]})};m.propTypes={children:d().node};class p extends s.Component{static #e=(()=>{this.propTypes={children:d().node,className:d().string}})();render(){let{children:e,innerRef:t,...n}=this.props;return(0,i.jsx)("tr",{...n,ref:t,children:s.Children.map(e,(e,t)=>e?(0,s.cloneElement)(e,{column:t,tagName:"th"}):null)})}}var x=p,g=e=>{let{ariaRole:t="row",children:n,className:l="",disabled:r=!1,onClick:o,selectable:d=!1,...c}=e;return(0,i.jsx)("tr",{"aria-roledescription":t,className:(0,a.W)("row",{selectable:d,disabled:r},l),onClick:o,...c,children:s.Children.map(n,e=>e?(0,s.cloneElement)(e,{tagName:"td"}):null)})};function y(e,t){if(e){let n=[];return s.Children.forEach(e,(e,i)=>{t&&t.call(this,e,i)&&n.push(e)}),n}return[]}let f=e=>{let{children:t,className:n="",isHeadType:l=v,isRowType:s=j,innerRef:o,...d}=e,u=y(t,e=>(0,c.Z)("col",e)),h=y(t,l),p=y(t,s);return(0,i.jsxs)("table",{...d,ref:o,className:"jsx-7617ac1a595cd721 "+((0,a.W)("table",n)||""),children:[u.length>0&&(0,i.jsx)("colgroup",{className:"jsx-7617ac1a595cd721",children:u}),h.length>0&&(0,i.jsx)("thead",{className:"jsx-7617ac1a595cd721",children:h}),(0,i.jsx)(m,{isRowType:s,children:p}),(0,i.jsx)(r(),{id:"7617ac1a595cd721",children:"table.jsx-7617ac1a595cd721{border-collapse:separate;border-spacing:0;width:100%}table.jsx-7617ac1a595cd721 td:nth-child(1){border-left:1px solid transparent}table.jsx-7617ac1a595cd721 td:last-child{border-right:1px solid transparent}thead.jsx-7617ac1a595cd721 th:nth-child(1){border-bottom:1px solid var(--accents-2);border-left:1px solid var(--accents-2);-webkit-border-radius:6px 0px 0px 6px;-moz-border-radius:6px 0px 0px 6px;border-radius:6px 0px 0px 6px;border-top:1px solid var(--accents-2)}thead.jsx-7617ac1a595cd721 th:last-child{border-bottom:1px solid var(--accents-2);-webkit-border-radius:0 6px 6px 0;-moz-border-radius:0 6px 6px 0;border-radius:0 6px 6px 0;border-right:1px solid var(--accents-2);border-top:1px solid var(--accents-2)}thead.jsx-7617ac1a595cd721 th{background:var(--accents-1);border-bottom:1px solid var(--accents-2);border-top:1px solid var(--accents-2)}table.jsx-7617ac1a595cd721 th,table.jsx-7617ac1a595cd721 td{padding:0 10px;text-align:left;vertical-align:top}table.jsx-7617ac1a595cd721 th>div{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;min-height:40px;font-size:12px}table.jsx-7617ac1a595cd721 td>div{-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;min-height:50px;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-flow:row wrap;-moz-box-orient:horizontal;-moz-box-direction:normal;-ms-flex-flow:row wrap;flex-flow:row wrap}table.jsx-7617ac1a595cd721 td.multi-line>div{min-height:none;padding:14px 0}table.jsx-7617ac1a595cd721 th{color:var(--accents-5);font-size:14px;font-weight:400;letter-spacing:0}table.jsx-7617ac1a595cd721 th.right>div,table.jsx-7617ac1a595cd721 td.right>div{-webkit-box-pack:end;-webkit-justify-content:flex-end;-moz-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}table.jsx-7617ac1a595cd721 th.center>div,table.jsx-7617ac1a595cd721 td.center>div{-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}table.jsx-7617ac1a595cd721 tr.disabled{pointer-events:none;opacity:.6}table.jsx-7617ac1a595cd721 tr.selectable{cursor:pointer}table.jsx-7617ac1a595cd721 tr.selectable:hover{background-color:#fcfcfc}@media(min-width:1024px){table.jsx-7617ac1a595cd721 td.instances-url{min-width:360px}}"})]})},j=e=>(0,c.Z)(g,e),v=e=>(0,c.Z)(x,e);f.propTypes={children:d().node,className:d().string,isHeadType:d().func,isRowType:d().func};var b=f,k=n(582526);class _ extends s.Component{static #e=(()=>{this.propTypes={align:d().oneOf(["left","center","right"]),children:d().node,className:d().string,disabled:d().bool,innerRef:d().func,onClick:d().func,sorted:d().oneOf(["asc","desc"]),tagName:d().oneOf(["td","th"]),value:d().any}})();static #t=(()=>{this.defaultProps={tagName:"td"}})();render(){let{align:e,children:t,className:n,innerRef:l,disabled:r,sorted:o,tagName:d,...u}=this.props;return(0,s.createElement)(d,{...u,className:(0,a.W)("table-cell",{"head-cell":"th"===d,"row-cell":"td"===d,right:"right"===e,center:"center"===e,sorted:o,disabled:r},n),ref:l,onClick:this.handleClick},(0,c.Z)("div",t)?t:(0,s.createElement)("div",{},t,o&&(0,i.jsx)(k._,{})))}constructor(...e){super(...e),this.handleClick=e=>{this.props.onClick&&this.props.onClick(e,this.props.value)}}}var w=n(62274)},882858:function(e,t,n){"use strict";function i(e,t){return t&&t.type===e}n.d(t,{Z:function(){return i}})},357162:function(e,t,n){"use strict";n.d(t,{k:function(){return h},w:function(){return u}});var i=n(652983),l=n(353729),r=n(532870),s=n(58363),a=n(121123),o=n(517659),d=n(270430),c=n(878593);function u(e,t){if("string"==typeof e){let{data:n}=(0,c.ZP)(e);return(0,l.ZP)(()=>{let{team:e,id:t}=n;if(!t)throw Error("missing `id`");return`${(0,a.PP)("v2")}/${t}/aliases${(0,o.c)({teamId:e?e.id:null})}`},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t)}if("object"==typeof e||void 0===e)return(0,l.ZP)(()=>{let{team:t,id:n,teamId:i}=e;if(!n)throw Error("missing `id`");return`${(0,a.PP)("v2")}/${n}/aliases${(0,o.c)({teamId:i??(t?t.id:null)})}`},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t);throw Error("Wrong argument type")}function h(e,t){var n;let{limit:l=20,domains:o,rollbackDeploymentId:c}=e,{isReady:u,team:h}=(0,d.t7)(),p=(0,r.ZP)((e,t)=>{if(!u)return null;let n=`${a.sL}`,i=(null==o?void 0:o.map(e=>`domain=${encodeURIComponent(e)}`).join("&"))||null;if(!e)return`${n}${m({limit:l+1,teamId:null==h?void 0:h.id,rollbackDeploymentId:c},i)}`;let r=(null==t?void 0:t.aliases)&&t.aliases.length>l?t.aliases[l-1].createdAt:null;return r?`${n}${m({limit:l+1,teamId:null==h?void 0:h.id,until:r},i)}`:null},e=>(0,s.I)(e,{throwOnHTTPError:!0}),t),x=(0,i.useMemo)(()=>p.data?[].concat(...p.data.filter(Boolean).map(e=>e.aliases.slice(0,l))):[],[p.data,l]),g=!!p.data&&!p.error,y=!!(p.data&&0===x.length),f=!!(p.data&&p.size>p.data.length),j=!!(p.data&&(null===(n=p.data[p.data.length-1])||void 0===n?void 0:n.aliases.length)<=l);return[p,{aliases:x,initialDataLoaded:g,isEmpty:y,loadMore:()=>p.setSize(e=>e+1),isLoadingMore:f,isReachingEnd:j}]}function m(e,t){let n=(0,o.c)(e,!1),i=t?`&${t}`:"";return n?`?${n}${i}`:`?${i}`}},199168:function(e,t,n){"use strict";var i=n(353729),l=n(58363),r=n(517659),s=n(270430);t.Z=(e,t)=>{var n;let{isReady:a,team:o}=(0,s.t7)(),d=(0,i.ZP)(e&&a?`/v1/deployments/${e}/checks${(0,r.c)({teamId:null==o?void 0:o.id})}`:null,e=>(0,l.I)(e,{throwOnHTTPError:!0}),{refreshInterval:t});return Object.assign(d,{checks:(null===(n=d.data)||void 0===n?void 0:n.checks)??[]})}},886125:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(652983),l=n(426326);function r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",[t,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(!1);return e.startsWith("#")||(e="#"+e),(0,i.useEffect)(()=>{r||(window.location.hash!==e||t||n(!0),s(!0))},[t,e,r]),(0,i.useEffect)(()=>{r&&(window.location.hash!==e||t?window.location.hash!==e&&t&&(window.location.hash=e):window.history.replaceState(null,""," "))},[t,e,r]),(0,i.useEffect)(()=>{let i=()=>{window.location.hash!==e||t||n(!0)};return l.Router.events.on("hashChangeComplete",i),()=>l.Router.events.off("hashChangeComplete",i)},[t,e]),[t,n]}},312831:function(e,t,n){"use strict";n.d(t,{F:function(){return c}});var i=n(652983),l=n(532870),r=n(121123),s=n(58363),a=n(270430),o=n(282966),d=n(517659);function c(e){var t,n;let{project:c,includeProductionBranch:h,query:m,limit:p,active:x,includeDeploymentInfo:g,state:y}=e,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:j,team:v}=(0,a.t7)(),[b,k]=(0,i.useState)(""),_=m&&u(m)?`"${m}"`:m,w={search:_,active:x?"1":null,teamId:null==v?void 0:v.id,includeDeployments:g?"1":null,limit:p,state:y},C=(0,l.ZP)((e,t)=>{if(!c)return null;if(!e)return j?`${(0,r.HJ)("v5")}/${c.id}/branches/${(0,d.c)(w)}`:null;let n=t&&p&&t.branches.length>=p?t.until:null;return n&&j?`${(0,r.HJ)("v5")}/${c.id}/branches/${(0,d.c)({...w,until:n})}`:null},e=>(0,s.I)(e,{throwOnHTTPError:!0}).then(e=>({...e,query:m})),f),S=null==c?void 0:null===(t=c.link)||void 0===t?void 0:t.productionBranch,R=(0,i.useMemo)(()=>{let e;if(!C.data)return;if(g){let t;let n=[];for(let i of C.data)for(let l of(e=i.query,i.branches))S&&l.branch===S?t=l:n.push(l);let i=h&&t?[t,...n]:n;return{query:e,result:i.filter(e=>!!e.deployment).sort((e,t)=>t.deployment.createdAt-e.deployment.createdAt)}}let t=new Set;for(let n of C.data)for(let i of(e=n.query,n.branches))t.add(i.branch);return{query:e,result:S&&t.has(S)?(t.delete(S),h?[S,...t]:[...t]):[...t]}},[C.data,h,S,g]);(0,o.Z)(()=>{(null==R?void 0:R.query)&&k(R.query)},[null==R?void 0:R.query,k]);let D=!!C.data,N=D&&(null==R?void 0:R.result.length)===0,P=D&&C.data&&C.size>C.data.length,$=!p||D&&C.data&&(null===(n=C.data[C.data.length-1])||void 0===n?void 0:n.branches.length)<p;return[C,{branches:null==R?void 0:R.result,fetchedQuery:b,initialDataLoaded:D,isValidating:C.isValidating,isEmpty:N,loadMore:()=>C.setSize(e=>e+1),isLoadingMore:P,isReachingEnd:$,mutate:C.mutate}]}let u=e=>+e==+e},920415:function(e,t,n){"use strict";n.d(t,{d:function(){return o}});var i=n(353729),l=n(58363),r=n(121123),s=n(517659),a=n(270430);function o(e){let{config:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{isReady:n,team:o}=(0,a.t7)();return(0,i.ZP)(n&&e?`${(0,r.nv)(e)}${(0,s.c)({teamId:null==o?void 0:o.id})}`:null,l.I,t)}},47518:function(e,t,n){"use strict";n.d(t,{o:function(){return o}});var i=n(397458),l=n(14517);n(652983);var r=n(316944),s=n(406784),a=n.n(s);let o=e=>{let{normal:t,active:n,hover:s,className:o,...d}=e;return(0,i.jsx)(r.z,{...d,className:(0,l.W)(a().button,o),"data-custom-button":"",style:{"--button-custom-fg":`${(null==t?void 0:t.foreground)||""}`,"--button-custom-bg":`${(null==t?void 0:t.background)||""}`,"--button-custom-border":`${(null==t?void 0:t.border)||""}`,"--button-custom-fg-active":`${(null==n?void 0:n.foreground)||""}`,"--button-custom-bg-active":`${(null==n?void 0:n.background)||""}`,"--button-custom-border-active":`${(null==n?void 0:n.border)||""}`,"--button-custom-fg-hover":`${(null==s?void 0:s.foreground)||""}`,"--button-custom-bg-hover":`${(null==s?void 0:s.background)||""}`,"--button-custom-border-hover":`${(null==s?void 0:s.border)||""}`},children:d.children})}},879758:function(e,t,n){"use strict";n.d(t,{R:function(){return s}});var i=n(397458),l=n(570584),r=n.n(l);function s(){return(0,i.jsx)("li",{className:r().divider,"data-geist-menu-divider":"",role:"separator"})}},188010:function(e,t,n){"use strict";n.d(t,{d:function(){return s}});var i=n(397458),l=n(336633),r=n(467662);function s(e){let{children:t,"data-testid":n,...s}=e;return(0,i.jsx)(r.s,{"data-testid":n,disabled:!0,suffix:(0,i.jsx)(l.H,{}),...s,children:t})}},852390:function(e,t,n){"use strict";n.d(t,{b:function(){return l}});var i=n(361961);let l=(0,i.H)('<circle cx="12" cy="12" r="10" fill="var(--geist-fill)"/><path d="M12 8v4" stroke="var(--geist-stroke)"/><path d="M12 16h.01" stroke="var(--geist-stroke)"/>',!0,{color:"var(--geist-warning)",secondary:"var(--geist-background)"})},29180:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var i=n(361961);let l=(0,i.H)('<circle cx="12" cy="12" r="10"/><path d="M16 12l-4-4-4 4"/><path d="M12 16V8"/>')},602396:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var i=n(361961);let l=(0,i.H)('<path d="M19 16.9A5 5 0 0018 7h-1.26a8 8 0 10-11.62 9"/><path d="M13 11l-4 6h6l-4 6"/>')},928643:function(e,t,n){"use strict";n.d(t,{E:function(){return l}});var i=n(361961);let l=(0,i.H)('<path d="M16 18l6-6-6-6"/><path d="M8 6l-6 6 6 6"/>')},545674:function(e,t,n){"use strict";n.d(t,{X:function(){return l}});var i=n(361961);let l=(0,i.H)('<path d="M6 3v12"/><circle cx="18" cy="6" r="3"/><circle cx="6" cy="18" r="3"/><path d="M18 9a9 9 0 01-9 9"/>')},385605:function(e,t,n){"use strict";n.d(t,{a:function(){return l}});var i=n(361961);let l=(0,i.H)('<circle cx="12" cy="12" r="4"/><path d="M1.05 12H7"/><path d="M17.01 12h5.95"/>')},508226:function(e,t,n){"use strict";n.d(t,{k:function(){return l}});var i=n(361961);let l=(0,i.H)('<path d="M23 4v6h-6"/><path d="M20.49 15a9 9 0 11-2.12-9.36L23 10"/>')},830369:function(e,t,n){"use strict";n.d(t,{o:function(){return l}});var i=n(361961);let l=(0,i.H)('<path d="M4 17l6-6-6-6"/><path d="M12 19h8"/>')},950639:function(e){e.exports={aliasLink:"aliases_aliasLink__0Gzx9"}},435641:function(e){e.exports={wrapper:"full-heading_wrapper__9T5_B",border:"full-heading_border__7BVR3",icon:"full-heading_icon__Fk3_z","title-container":"full-heading_title-container__A8byf",header:"full-heading_header__dOrpM",menu:"full-heading_menu__y2Ayy",message:"full-heading_message__o2CPC",main:"full-heading_main__Iy5cb",title:"full-heading_title__Os3DI",actions:"full-heading_actions__5L9Yo","child-wrapper":"full-heading_child-wrapper___frxz",controls:"full-heading_controls__3qWgP",hideOnMobile:"full-heading_hideOnMobile__Pj7kU",center:"full-heading_center__oTRf7","title-container-with-actions":"full-heading_title-container-with-actions__5180x","full-heading-overlapped":"full-heading_full-heading-overlapped__3dQgJ"}},218165:function(e){e.exports={card:"deployment-card-small_card__IJqt6",current:"deployment-card-small_current__hsx7c",input:"deployment-card-small_input__VEkHu",icon:"deployment-card-small_icon__BgdCf",deploymentLink:"deployment-card-small_deploymentLink__dsvsv",commitMessage:"deployment-card-small_commitMessage__V7H3P",branch:"deployment-card-small_branch__e1i8i",code:"deployment-card-small_code__WEKj5",gitAvatar:"deployment-card-small_gitAvatar__lj5Qt","badge-current":"deployment-card-small_badge-current__XbOws","badge-previous":"deployment-card-small_badge-previous__bg9Mw"}},670829:function(e){e.exports={deploymentSource:"deployment-list_deploymentSource__ZU5_p",line:"deployment-list_line__dGKyq",icon:"deployment-list_icon__sW3LZ",rebuild:"deployment-list_rebuild__1QY3n"}},720152:function(e){e.exports={"rollback-modal":"rollback-modal_rollback-modal__wr8oC","warning-list":"rollback-modal_warning-list__COWQr","alias-list":"rollback-modal_alias-list__vuz4n","deployment-link":"rollback-modal_deployment-link__8AsHl"}},10119:function(e){e.exports={defaultHeight:"no-deployment-card_defaultHeight__qryMh",container:"no-deployment-card_container__v0RSA",subtitleContainer:"no-deployment-card_subtitleContainer__hyGFi",title:"no-deployment-card_title___rTuD",icon:"no-deployment-card_icon__0mQPt"}},460245:function(e){e.exports={wrapper:"transfer-project_wrapper__YKh2w"}},610711:function(e){e.exports={duration:"duration_duration__IlOC0",spinner:"duration_spinner__4uSqP",padLeft:"duration_padLeft__ks61P"}},558596:function(e){e.exports={skeletonContainer:"filter-branch-entity-bar_skeletonContainer__ZS8Wm",entityMarginBottom:"filter-branch-entity-bar_entityMarginBottom__oAi7y",inline:"filter-branch-entity-bar_inline__Vwj1A",entitySpan:"filter-branch-entity-bar_entitySpan__GW93Z",hideWhenNotSm:"filter-branch-entity-bar_hideWhenNotSm__LeKHl",maxWidthFitContent:"filter-branch-entity-bar_maxWidthFitContent__mB6mz",hideWhenSm:"filter-branch-entity-bar_hideWhenSm__C6kEX"}},947573:function(e){e.exports={status:"filter-status_status__xOCid",icon:"filter-status_icon__kt315",item:"filter-status_item__ucGKv",check:"filter-status_check__IZood",badge:"filter-status_badge__r16Jp",ready:"filter-status_ready__iJVUH",error:"filter-status_error__uw5zG",building:"filter-status_building__QQsac",queued:"filter-status_queued___XgB9",canceled:"filter-status_canceled__etn3r",dimmed:"filter-status_dimmed__qMmLk",leftAligned:"filter-status_leftAligned__olJva",rightAligned:"filter-status_rightAligned__nI_5K",label:"filter-status_label__fArz4"}},627884:function(e){e.exports={deploymentSourceLinks:"styles_deploymentSourceLinks__VXY6d",line:"styles_line__Xqb75",hidden:"styles_hidden__NgvtL",visible:"styles_visible__6kv5Y",subtle:"styles_subtle__4Ey5b",terminalIcon:"styles_terminalIcon__HiU2z",linkWrapper:"styles_linkWrapper__4_ltz",dirty:"styles_dirty__l3Ns9",tooltip:"styles_tooltip__APF5j"}},672457:function(e){e.exports={heading:"use-redeploy-modal_heading__9ZiP1",body:"use-redeploy-modal_body__WeA6D"}},104333:function(e){e.exports={ul:"list_ul__GYcIA",ol:"list_ol___dUgW",li:"list_li__pr_U4"}},729176:function(e){e.exports={code:"inline_code__oyCmg",nowrap:"inline_nowrap__9PYnJ",truncate:"inline_truncate__7Rl6D"}},372649:function(e){e.exports={copyButtonIcon:"copy-button_copyButtonIcon__c_n2b"}},835761:function(e){e.exports={wrapper:"loading-checkmark_wrapper__Ahfp3"}},72681:function(e){e.exports={snippet:"snippet_snippet__3r5iL",isUsingPlaceholder:"snippet_isUsingPlaceholder__2ysfL",dark:"snippet_dark__gC3Y5",copyIcon:"snippet_copyIcon__X_hqX",copy:"snippet_copy__J41LE",prompt:"snippet_prompt__8ewTu"}},989947:function(e){e.exports={"info-note":"info-note_info-note__y38il","info-note-link":"info-note_info-note-link__Br8oR"}},617031:function(e){e.exports={"warning-note":"warning-note_warning-note__T6NL4","warning-note-link":"warning-note_warning-note-link__RYfns"}},406784:function(e){e.exports={button:"custom_button__pUskI"}}}]);