"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[31021],{545259:function(e,i,n){n.d(i,{Z:function(){return N},j:function(){return T}});var r=n(397458),t=n(652983),l=n(403873),a=n(132950),o=n(316944),s=n(789808),d=n(755159),u=n(793356),c=n(218673),m=n(585088),v=n(950429),b=n(684874),g=n(121123),h=n(791688),p=n(318459),x=n(464287),f=n(639676),y=n(595685),j=n(210699),w=n(40268),C=n(633224),S=n(68751),k=n(272525),B=n(265263),I=n(217481);function N(){let e=(0,j.Z)(),{isLoading:i}=(0,w.ZP)();return!e||e.isLoading||!e.user||i?(0,r.jsx)(B.Z,{height:108}):(0,r.jsx)(_,{})}function T(e){var i,n;if(!(null==e?void 0:null===(i=e.billing)||void 0===i?void 0:i.plan))return null;let r=e.billing.plan,t=null===(n=e.resourceConfig)||void 0===n?void 0:n.concurrentBuilds;if("enterprise"===r&&t)return t;let l=p.bB[r];return("concurrentBuilds"in l?l.concurrentBuilds:null)||null}function _(){var e,i,n,a;let s=(0,j.Z)(),{can:p}=(0,w.ZP)(),B=p(w.aU.Update,w._z.ConcurrentBuilds),N=p(w.aU.Read,w._z.ConcurrentBuilds),{user:_,team:L}=s,P=L||_,A=null==P?void 0:null===(e=P.billing)||void 0===e?void 0:e.plan,E=(0,C.x)(),M=function(e){var i,n,r,t;let l=T(e),a=(null==e?void 0:null===(r=e.billing)||void 0===r?void 0:null===(n=r.invoiceItems)||void 0===n?void 0:null===(i=n.concurrentBuilds)||void 0===i?void 0:i.quantity)||(null==e?void 0:null===(t=e.resourceConfig)||void 0===t?void 0:t.concurrentBuilds)||null;return l&&a?l>a?l:a:null}(P),R=T(P),Z="enterprise"===A,z="pro"===A&&(null==P?void 0:null===(i=P.billing)||void 0===i?void 0:i.status)==="trialing",U=z?3:12,[O,V]=(0,t.useState)(null),[$,q]=(0,t.useState)(!1),[F,G]=(0,t.useState)(M),[Y,W]=(0,t.useState)(!1),J=(0,d.e1)(),K=!!(null==P?void 0:null===(n=P.billing)||void 0===n?void 0:n.invoiceItems),Q=(0,t.useCallback)(async()=>{var e,i,n;let r=E.data,t=null==L?void 0:null===(n=L.billing)||void 0===n?void 0:null===(i=n.invoiceItems)||void 0===i?void 0:null===(e=i.concurrentBuilds)||void 0===e?void 0:e.quantity;try{V(null),q(!0);let e=new URLSearchParams(L?{teamId:L.id}:{});if(await (0,x.Z)(`${g.w}?${e}`,{method:"PUT",body:JSON.stringify({concurrentBuilds:F})}),await s.mutate(),F&&t){let e=F-t;e>0?b.co.track(b.s6.BILLING_ADDED_CONCURRENT_BUILD,{buildsAdded:e}):e<0&&b.co.track(b.s6.BILLING_REMOVED_CONCURRENT_BUILD,{buildsRemoved:Math.abs(e)})}J.success("Your Concurrent Builds have been updated.")}catch(e){V((0,l.SC)(e))}finally{q(!1)}for(;t&&t!==F&&E.data===r;)await new Promise(e=>setTimeout(e,1e3)),await E.mutate()},[L,F,s,J,E]),{enabled:H,message:X,action:ee}=(0,y.Z)({name:"concurrentBuilds",options:{enable:(0,S._)(Q)}}),ei=!B||Z,en=(0,t.useMemo)(()=>{if(K){var e,i,n;let r=null==P?void 0:null===(n=P.billing)||void 0===n?void 0:null===(i=n.invoiceItems)||void 0===i?void 0:null===(e=i.concurrentBuilds)||void 0===e?void 0:e.price;return"number"==typeof r?r:5e3}return 3500},[P,K]),er=(0,t.useMemo)(()=>{let e=((F||0)-(R||0))*en;return(e<0||Number.isNaN(e))&&(e=0),e},[R,F,en]),et=(0,t.useMemo)(()=>{var e;return(0,f.x)(er,null==P?void 0:null===(e=P.billing)||void 0===e?void 0:e.currency)},[P,er]),el=(0,t.useMemo)(()=>Z?"The number of included concurrent builds is specified in your Enterprise contract.":B?`Your plan grants you ${R} free Concurrent Build${(R||0)>1?"s":""}.`:"You need additional permissions to manage your team's concurrent builds.",[Z,B,R]);return(0,r.jsxs)("div",{children:[(0,r.jsx)("form",{onSubmit:e=>{e.preventDefault(),0===er?Q():W(!0)},children:(0,r.jsxs)(c.Fieldset,{disabled:ei,children:[(0,r.jsxs)(c.Content,{disabled:ei||!H,children:[(0,r.jsx)(c.Title,{id:k.p.billing.concurrentBuilds,children:k.p.billing.concurrentBuilds}),(0,r.jsxs)(c.Subtitle,{children:["Determines how many builds you can run at the same time. By increasing the number (",(0,f.x)(en,null==P?void 0:null===(a=P.billing)||void 0===a?void 0:a.currency)," per Slot, per month), you are increasing the level of concurrency (maximum"," ",U,z?" while on trial":"",")."," ",(0,r.jsx)(v.r,{href:"/guides/why-are-my-vercel-builds-queued#adding-concurrent-builds",tab:!0,variant:"highlight",children:"Learn more."})]}),N?(0,r.jsx)("div",{style:{width:"260px"},children:(0,r.jsx)(m.I,{"aria-label":"Concurrent Builds",disabled:$,max:U,min:R||0,onChange:e=>G(parseInt(e.target.value)),suffix:(0,r.jsxs)("span",{style:{minWidth:"160px",display:"inline-block",textAlign:"center"},children:["Slot",(F||0)>1?"s":""," (",et," per Month)"]}),typeName:"number",value:(F||0).toString(),width:"100%"})}):(0,r.jsx)(I.Z,{})]}),(0,r.jsxs)(c.Footer,{disabled:!1,highlight:!H||ei,children:[(0,r.jsx)(c.Footer.Status,{children:(null==O?void 0:O.message)?(0,r.jsx)(c.ErrorText,{children:(0,r.jsx)(u.Z,{error:O})}):X||el}),!ei&&(0,r.jsx)(c.Footer.Actions,{children:ee||(0,r.jsx)(o.z,{"data-testid":(0,h.C)("account-settings","billing","concurrent-save"),loading:$,size:"small",width:$?100:80,children:$?"Saving":"Save"})})]})]})}),(0,r.jsx)(D,{active:Y,onConfirm:(0,S._)(Q),price:et,setActive:W})]})}function D(e){let{price:i,active:n,setActive:t,onConfirm:l}=e;return(0,r.jsxs)(s.u.Modal,{active:n,onClickOutside:()=>t(!1),width:"500px",children:[(0,r.jsx)(s.u.Body,{children:(0,r.jsxs)(a.K,{align:"flex-start",gap:6,children:[(0,r.jsx)(s.u.Title,{children:"Confirmation Required"}),(0,r.jsxs)(s.u.Subtitle,{children:["By clicking Confirm, an amount of ",i," will be added to your invoice and your credit card will be charged at the end of your next billing cycle."]})]})}),(0,r.jsxs)(s.u.Actions,{children:[(0,r.jsx)(s.u.Action,{loading:!1,onClick:()=>t(!1),type:"secondary",children:"Cancel"}),(0,r.jsx)(s.u.Action,{onClick:()=>{t(!1),l()},children:"Confirm"})]})]})}},217481:function(e,i,n){n.d(i,{C:function(){return s},Z:function(){return d}});var r=n(397458),t=n(243801),l=n.n(t),a=n(582526),o=n(342958);let s=e=>{let{width:i=100,style:n}=e;return(0,r.jsx)("div",{style:n,className:l().dynamic([["ea6e32287c706062",[i]]])+" bar",children:(0,r.jsx)(l(),{id:"ea6e32287c706062",dynamic:[i],children:`.bar.__jsx-style-dynamic-selector{max-width:${i}px;width:100%;height:16px;background-color:var(--accents-2);-webkit-border-radius:2px;-moz-border-radius:2px;border-radius:2px}`})})};function d(e){let{width:i=256,withChevronDown:n=!1}=e;return(0,r.jsxs)("div",{className:l().dynamic([["28c6fbdaab37e3df",[i]]])+" wrapper",children:[(0,r.jsxs)(o.Z,{row:!0,style:{justifyContent:"space-between"},children:[(0,r.jsx)(s,{width:n?.5*i:.64*i}),n?(0,r.jsx)(a._,{size:16}):null]}),(0,r.jsx)(l(),{id:"28c6fbdaab37e3df",dynamic:[i],children:`.wrapper.__jsx-style-dynamic-selector{max-width:${i}px;width:100%;height:40px;padding:7px var(--geist-gap-half);display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-moz-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;-webkit-border-radius:var(--geist-radius);-moz-border-radius:var(--geist-radius);border-radius:var(--geist-radius);color:var(--themed-fg);background:var(--themed-bg);border:1px solid var(--themed-border,var(--accents-2))}`})]})}},800865:function(e,i,n){n.d(i,{Q:function(){return t},V:function(){return r}});let r=new Set(["now.sh","vercel.app"]);function t(e){return r.has(e.toLowerCase())}},272525:function(e,i,n){n.d(i,{$:function(){return t},p:function(){return r}});let r={general:{name:"Team Name",slug:"Team URL",avatar:"Team Avatar",previewDeploymentSuffix:"Preview Deployment Suffix",id:"Team ID",leaveTeam:"Leave Team",deleteTeam:"Delete Team",transfer:"Transfer"},billing:{plan:"Plan",paymentMethod:"Payment Method",concurrentBuilds:"Concurrent Builds",removeCaching:"Remove Caching",invoiceEmailRecipient:"Invoice Email Recipient",companyName:"Company Name",billingAddress:"Billing Address",invoiceLanguage:"Invoice Language",invoicePurchaseOrder:"Invoice Purchase Order",taxId:"Tax ID",analyticsSampling:"Speed Insights Sampling",monitoring:"Monitoring"},security:{teamEmailDomain:"Team Email Domain",auditLog:"Audit Log",environmentVariablePolicy:"Environment Variable Policy",samlSingleSignOn:"SAML Single Sign-On",hideIpAddresses:"IP Address Visibility"}},t={general:"General",billing:"Billing",invoices:"Invoices",members:"Members",security:"Security & Privacy",deploymentProtection:"Deployment Protection",notifications:"My Notifications",environmentVariables:"Environment Variables",webhooks:"Webhooks",logDrains:"Log Drains",secureCompute:"Secure Compute"}}}]);